// This will be converted to a standard JS format for better compatibility

## Features

- ğŸ“š **Hierarchical Navigation**: Navigate complex nested document structures
- ğŸ”– **Breadcrumb Trail**: Always see your current location in the hierarchy
- ğŸ” **Advanced Search**: Find content with fuzzy matching and adjustable sensitivity
- ğŸ¨ **Tailwind CSS Styling**: Clean, minimal interface with Tailwind CSS
- ğŸ§© **Expandable Sections**: Collapsible sections for better content organization
- ğŸ“± **Responsive Design**: Works on all screen sizes
- ğŸ”Œ **Simple Integration**: Easy to integrate into existing Vue applications
- ğŸ”„ **Pinia State Management**: Lightweight state management
- ğŸŒ™ **Light/Dark Themes**: Support for light and dark modes
- ğŸ“‹ **Metadata Support**: Attach custom data to items with extensible processors
- ğŸ”— **External Resources**: Connect to external resources like XML source files
- ğŸ¯ **Render Targets**: Specify rendering locations for content display
- ğŸšï¸ **Multiple View Modes**: Compact, standard, detailed, and styleless modes
- ğŸ·ï¸ **Enhanced Filtering**: Filter by type, agency, date range, and keywords
- ğŸ’¬ **Preview Tooltips**: Interactive previews on search results
- ğŸ¬ **Animated UI**: Smooth transitions for better user experience

## Quick Start

```javascript
// Import in your Vue component
import { ECFRNavigator } from 'ecfr-navigator';

export default {
  components: {
    ECFRNavigator
  },
  data() {
    return {
      // Configuration options
      navigatorOptions: {
        showBreadcrumb: true,
        theme: 'light',
        display: {
          viewMode: 'standard',
          showDescription: true,
          showMetadataBadges: true
        }
      },
      
      // Your hierarchical data
      items: [
        {
          id: 'title-1',
          type: 'title',
          number: '1',
          title: 'General Provisions',
          children: [
            // Nested items...
          ]
        }
      ]
    };
  }
};
```

## Component Structure

The ECFRNavigator component is built from several smaller components:

1. **ECFRNavigator**: The main component that orchestrates everything
2. **ECFRBreadcrumb**: Displays the current navigation path
3. **ECFRSection**: Renders individual items in the hierarchy

## View Modes

The component supports multiple view modes:

### Standard Mode (Default)
<img src="https://via.placeholder.com/600x100?text=Standard+Mode" alt="Standard Mode" style={{ maxWidth: '100%' }} />

### Compact Mode
<img src="https://via.placeholder.com/600x80?text=Compact+Mode" alt="Compact Mode" style={{ maxWidth: '100%' }} />

### Detailed Mode
<img src="https://via.placeholder.com/600x150?text=Detailed+Mode" alt="Detailed Mode" style={{ maxWidth: '100%' }} />

### Styleless Mode
<img src="https://via.placeholder.com/600x100?text=Styleless+Mode+(No+Styling)" alt="Styleless Mode" style={{ maxWidth: '100%' }} />

## Configuration Guide

Explore the stories in this Storybook to see various configuration options in action:

- **ECFRNavigator stories**: Different configurations of the main component
- **ECFRBreadcrumb stories**: Breadcrumb navigation options
- **ECFRSection stories**: Individual item display options

## Component API

| Prop | Type | Description |
|------|------|-------------|
| `items` | Array | **Required.** Hierarchical data structure of items to display |
| `options` | Object | Configuration options for the navigator |
| `itemMetadata` | Object | Pre-populated metadata for items, keyed by item ID |
| `initialSelectedItemId` | String | ID of the item to initially select and expand to |
| `loading` | Boolean | Show loading state for the entire component |

## Events

| Event | Payload | Description |
|-------|---------|-------------|
| `item-selected` | `{ item, path, metadata, processedMetadata }` | Fired when an item is selected |
| `path-changed` | `Array` | Fired when the navigation path changes |
| `search-completed` | `{ query, filters, resultsCount, results }` | Fired when a search completes |
| `update:options` | `Object` | Fired when options change internally (for v-model support) |
| `metadata-changed` | `{ action, itemId, metadataType, metadata, oldMetadata }` | Fired when item metadata changes |

## Data Structure

The component expects an array of items with the following structure:

```javascript
[
  {
    id: 'unique-id',              // Required: Unique identifier
    title: 'Item Title',          // Required: Title text to display
    subtitle: 'Optional Subtitle', // Optional: Subtitle text
    content: '<p>HTML content</p>', // Optional: HTML content for this item
    type: 'title',                // Optional: Type of item (title, part, section, etc.)
    number: '1',                  // Optional: Number identifier (e.g., '1', '1.1')
    citationPrefix: 'Title',      // Optional: Override the display prefix
    agency: 'Agency Name',        // Optional: Agency associated with this item
    updatedDate: '2023-05-15',    // Optional: Date of last update (for filtering)
    keywords: ['keyword1', 'keyword2'], // Optional: Keywords for filtering
    children: [                   // Optional: Child items (nested)
      {
        id: 'child-1',
        title: 'Child Item',
        // ... same structure as parent
      }
    ]
  }
]
```