import{r as _,c as h,k as r,l as u,p as c,v as m,y,F as S,x as D,s as T,z as o}from"./vue.esm-bundler-BOts1VAj.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={name:"MSlider",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},label:{type:String,default:""},unit:{type:String,default:""},helpText:{type:String,default:""},error:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},variant:{type:String,default:"primary",validator:e=>["primary","secondary","success","warning","danger"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},showTooltip:{type:Boolean,default:!1},showMarkers:{type:Boolean,default:!1},markers:{type:Array,default:()=>[]},formatValue:{type:Function,default:e=>e.toLocaleString()},id:{type:String,default:null}},emits:["update:modelValue","change","input"],setup(e,{emit:l}){const a=_(null),t=_(!1),g=h(()=>e.id||`slider-${Math.random().toString(36).substr(2,9)}`),b=h(()=>({[`variant-${e.variant}`]:!0,[`size-${e.size}`]:!0,disabled:e.disabled,"has-error":e.error,dragging:t.value})),d=h(()=>(e.modelValue-e.min)/(e.max-e.min)*100),w=h(()=>e.formatValue(e.modelValue)),x=s=>(s-e.min)/(e.max-e.min)*100,M=s=>{const n=Math.round((s-e.min)/e.step)*e.step+e.min;return Math.min(Math.max(n,e.min),e.max)},V=s=>{if(!a.value||e.disabled)return;const n=a.value.getBoundingClientRect(),i=Math.max(0,Math.min(1,(s-n.left)/n.width)),f=e.min+i*(e.max-e.min),v=M(f);v!==e.modelValue&&(l("update:modelValue",v),l("input",v),l("change",v))};return{trackRef:a,isDragging:t,fieldId:g,sliderClass:b,fillPercentage:d,displayValue:w,getMarkerPosition:x,handleMouseDown:s=>{if(e.disabled)return;s.preventDefault(),t.value=!0;const n=f=>V(f.clientX),i=()=>{t.value=!1,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",i)},handleTouchStart:s=>{if(e.disabled)return;s.preventDefault(),t.value=!0;const n=f=>{f.touches.length>0&&V(f.touches[0].clientX)},i=()=>{t.value=!1,document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i)};document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",i)},handleKeyDown:s=>{if(e.disabled)return;let n=0;switch(s.key){case"ArrowRight":case"ArrowUp":n=e.step;break;case"ArrowLeft":case"ArrowDown":n=-e.step;break;case"PageUp":n=e.step*10;break;case"PageDown":n=-e.step*10;break;case"Home":l("update:modelValue",e.min),l("change",e.min);return;case"End":l("update:modelValue",e.max),l("change",e.max);return;default:return}s.preventDefault();const i=Math.max(e.min,Math.min(e.max,e.modelValue+n));l("update:modelValue",i),l("change",i)}}}},E={class:"slider-container"},B={key:0,class:"slider-label"},N=["for"],z={key:0,class:"required-indicator"},P={class:"value-display"},C={class:"current-value"},A={key:0,class:"value-unit"},K={class:"slider-track",ref:"trackRef"},q={key:0,class:"track-markers"},F={class:"marker-label"},I=["tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-label"],R={class:"handle-inner"},U={key:0,class:"handle-tooltip"},H={class:"range-display"},X={class:"range-min"},G={class:"range-max"},O={key:1,class:"help-text"},j={key:2,class:"error-message"};function J(e,l,a,t,g,b){return o(),r("div",{class:T(["m-slider",t.sliderClass])},[u("div",E,[a.label?(o(),r("div",B,[u("label",{for:t.fieldId,class:"label-text"},m(a.label),9,N),a.required?(o(),r("span",z,"*")):c("",!0)])):c("",!0),u("div",P,[u("span",C,m(t.displayValue),1),a.unit?(o(),r("span",A,m(a.unit),1)):c("",!0)]),u("div",K,[l[4]||(l[4]=u("div",{class:"track-background"},null,-1)),u("div",{class:"track-fill",style:y({width:t.fillPercentage+"%"})},null,4),a.showMarkers?(o(),r("div",q,[(o(!0),r(S,null,D(a.markers,d=>(o(),r("div",{key:d.value,class:"marker",style:y({left:t.getMarkerPosition(d.value)+"%"})},[l[3]||(l[3]=u("div",{class:"marker-dot"},null,-1)),u("div",F,m(d.label),1)],4))),128))])):c("",!0),u("div",{class:"slider-handle",style:y({left:t.fillPercentage+"%"}),onMousedown:l[0]||(l[0]=(...d)=>t.handleMouseDown&&t.handleMouseDown(...d)),onTouchstart:l[1]||(l[1]=(...d)=>t.handleTouchStart&&t.handleTouchStart(...d)),tabindex:a.disabled?-1:0,"aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.modelValue,"aria-label":a.label,role:"slider",onKeydown:l[2]||(l[2]=(...d)=>t.handleKeyDown&&t.handleKeyDown(...d))},[u("div",R,[a.showTooltip?(o(),r("div",U,m(t.displayValue),1)):c("",!0)])],44,I)],512),u("div",H,[u("span",X,m(a.formatValue(a.min)),1),u("span",G,m(a.formatValue(a.max)),1)]),a.helpText?(o(),r("div",O,m(a.helpText),1)):c("",!0),a.error?(o(),r("div",j,m(a.error),1)):c("",!0)])],2)}const $=L(k,[["render",J],["__scopeId","data-v-b7142a11"]]);k.__docgenInfo={displayName:"MSlider",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"min",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"max",type:{name:"number"},defaultValue:{func:!1,value:"100"}},{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"label",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"unit",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"helpText",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"error",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"variant",type:{name:"string"},defaultValue:{func:!1,value:"'primary'"},values:["primary","secondary","success","warning","danger"]},{name:"size",type:{name:"string"},defaultValue:{func:!1,value:"'medium'"},values:["small","medium","large"]},{name:"showTooltip",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showMarkers",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"markers",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"formatValue",type:{name:"func"},defaultValue:{func:!0,value:"(value) => value.toLocaleString()"}},{name:"id",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"update:modelValue"},{name:"change"},{name:"input"}],sourceFiles:["C:/Users/bradl/OneDrive/Documents/GitHub/bmc-navigator-component/src/components/ui/MSlider.vue"]};export{$ as M};
