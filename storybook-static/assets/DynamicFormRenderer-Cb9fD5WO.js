import{M as Me}from"./MCard-BMaDLVhA.js";import{M as ke}from"./MButton-ClHapibe.js";import{M as fe}from"./MTextField-OPGGVjaU.js";import{M as he}from"./MSelect-BPYUGOCn.js";import{M as ye}from"./MCheckbox-B-c44SKF.js";import{M as be}from"./MSlider-CAxFof3m.js";import{a as T,c as R,r as De,k as F,l as c,p as P,v,s as L,u as ve,F as G,x as H,N as O,C as pe,D as J,q as _e,Q as Se,z as w,J as we,V as xe,E as Ve,A as Oe}from"./vue.esm-bundler-BOts1VAj.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";function je(t={}){const{storageKey:r="form_data",storageType:m="localStorage",autoSave:h=!0,autoSaveDelay:b=1e3,enableVersioning:p=!0,maxVersions:d=10,enableEncryption:g=!1,compressionEnabled:f=!0}=t,s=T({data:{},metadata:{version:1,created:new Date().toISOString(),lastModified:new Date().toISOString(),checksum:null,encrypted:!1,compressed:!1},versions:[],isDirty:!1,isLoading:!1,lastSaved:null,errors:[]}),S=new Map,x=new Map;let N=null;const I=(()=>{switch(m){case"localStorage":return{getItem:n=>localStorage.getItem(n),setItem:(n,i)=>localStorage.setItem(n,i),removeItem:n=>localStorage.removeItem(n)};case"sessionStorage":return{getItem:n=>sessionStorage.getItem(n),setItem:(n,i)=>sessionStorage.setItem(n,i),removeItem:n=>sessionStorage.removeItem(n)};case"memory":default:const a=new Map;return{getItem:n=>a.get(n)||null,setItem:(n,i)=>a.set(n,i),removeItem:n=>a.delete(n)}}})(),z=a=>{const n=JSON.stringify(a);let i=0;for(let u=0;u<n.length;u++){const e=n.charCodeAt(u);i=(i<<5)-i+e,i=i&i}return i.toString(16)},W=a=>{if(!f)return a;const n=JSON.stringify(a);return btoa(n)},Q=a=>{if(!f)return a;try{const n=atob(a);return JSON.parse(n)}catch{return a}},Y=a=>{if(!g)return a;const n=JSON.stringify(a),i="secret_key_12345";let u="";for(let e=0;e<n.length;e++)u+=String.fromCharCode(n.charCodeAt(e)^i.charCodeAt(e%i.length));return btoa(u)},Z=a=>{if(!g)return a;try{const n=atob(a),i="secret_key_12345";let u="";for(let e=0;e<n.length;e++)u+=String.fromCharCode(n.charCodeAt(e)^i.charCodeAt(e%i.length));return JSON.parse(u)}catch{return a}},$=async()=>{var a,n,i;s.isLoading=!0,s.errors=[];try{const u=I.getItem(r);if(!u)return s.isLoading=!1,!1;let e=JSON.parse(u);return(a=e.metadata)!=null&&a.encrypted&&(e.data=Z(e.data)),(n=e.metadata)!=null&&n.compressed&&(e.data=Q(e.data)),(i=e.metadata)!=null&&i.checksum&&z(e.data)!==e.metadata.checksum?(s.errors.push("Data integrity check failed"),s.isLoading=!1,!1):(Object.assign(s,e),s.isDirty=!1,s.isLoading=!1,!0)}catch(u){return s.errors.push(`Load error: ${u.message}`),s.isLoading=!1,!1}},q=async()=>{try{if(p&&s.data&&Object.keys(s.data).length>0){const i={version:s.metadata.version,data:JSON.parse(JSON.stringify(s.data)),timestamp:new Date().toISOString()};s.versions.unshift(i),s.versions.length>d&&(s.versions=s.versions.slice(0,d))}s.metadata.version+=1,s.metadata.lastModified=new Date().toISOString(),s.metadata.checksum=z(s.data),s.metadata.encrypted=g,s.metadata.compressed=f;let a=s.data;g&&(a=Y(a)),f&&(a=W(a));const n={data:a,metadata:s.metadata,versions:s.versions};return I.setItem(r,JSON.stringify(n)),s.isDirty=!1,s.lastSaved=new Date,s.errors=[],!0}catch(a){return s.errors.push(`Save error: ${a.message}`),!1}},_=()=>{h&&(N&&clearTimeout(N),N=setTimeout(()=>{q()},b))},U=(a,n)=>{const i=a.split(".");let u=s.data;for(let l=0;l<i.length-1;l++)(!(i[l]in u)||typeof u[i[l]]!="object")&&(u[i[l]]={}),u=u[i[l]];const e=i[i.length-1],o=u[e];if(u[e]=n,s.isDirty=!0,_(),S.has(a)&&S.get(a).forEach(l=>{l(n,o,a)}),x.has(a)){const y=x.get(a)(n,s.data);y!==!0&&s.errors.push(`Validation error for ${a}: ${y}`)}return n},A=(a,n=void 0)=>{const i=a.split(".");let u=s.data;for(const e of i){if(u==null||!(e in u))return n;u=u[e]}return u},B=a=>{const n=a.split(".");let i=s.data;for(const u of n){if(i==null||!(u in i))return!1;i=i[u]}return!0},ee=a=>{const n=a.split(".");let i=s.data;for(let e=0;e<n.length-1;e++){if(!(n[e]in i))return!1;i=i[n[e]]}const u=n[n.length-1];return u in i?(delete i[u],s.isDirty=!0,_(),!0):!1},te=(a,n)=>(S.has(a)||S.set(a,new Set),S.get(a).add(n),()=>{const i=S.get(a);i&&(i.delete(n),i.size===0&&S.delete(a))}),se=(a,n)=>{x.set(a,n)},re=a=>{x.delete(a)},ae=()=>{s.errors=[];const a={};for(const[n,i]of x){const u=A(n),e=i(u,s.data);e!==!0&&(s.errors.push(`Validation error for ${n}: ${e}`),a[n]=e)}return Object.keys(a).length===0?!0:a},ne=a=>{if(a>=0&&a<s.versions.length){const n=s.versions[a];return s.data=JSON.parse(JSON.stringify(n.data)),s.isDirty=!0,_(),!0}return!1},oe=()=>{s.data={},s.metadata={version:1,created:new Date().toISOString(),lastModified:new Date().toISOString(),checksum:null,encrypted:!1,compressed:!1},s.versions=[],s.isDirty=!1,s.errors=[],I.removeItem(r)},ie=(a="json")=>{switch(a){case"json":return JSON.stringify(s.data,null,2);case"csv":const n=X(s.data),i=Object.keys(n).join(","),u=Object.values(n).map(e=>`"${e}"`).join(",");return`${i}
${u}`;default:return s.data}},K=(a,n="json")=>{try{let i;switch(n){case"json":i=typeof a=="string"?JSON.parse(a):a;break;default:i=a}return s.data=i,s.isDirty=!0,_(),!0}catch(i){return s.errors.push(`Import error: ${i.message}`),!1}},X=(a,n="")=>{const i={};for(const u in a){const e=n?`${n}.${u}`:u;typeof a[u]=="object"&&a[u]!==null&&!Array.isArray(a[u])?Object.assign(i,X(a[u],e)):i[e]=a[u]}return i},le=R(()=>s.errors.length===0),ce=R(()=>JSON.stringify(s.data).length),ue=R(()=>s.isDirty);return $(),{storage:Ee(s),isValid:le,dataSize:ce,hasUnsavedChanges:ue,load:$,save:q,clear:oe,setProperty:U,getProperty:A,hasProperty:B,deleteProperty:ee,watchProperty:te,addValidator:se,removeValidator:re,validateAll:ae,restoreVersion:ne,exportData:ie,importData:K,triggerAutoSave:_}}function Ee(t){return new Proxy(t,{set(){return console.warn("Direct mutation of storage state is not allowed. Use setProperty() instead."),!1},deleteProperty(){return console.warn("Direct deletion of storage properties is not allowed. Use deleteProperty() instead."),!1}})}function Pe(t={}){const{storageKey:r="dynamic_form",autoSave:m=!0,enableValidation:h=!0,enableConditionalLogic:b=!0,enableCalculations:p=!0}=t,d=je({storageKey:r,autoSave:m,enableVersioning:!0,enableEncryption:!0,compressionEnabled:!0}),g=De({}),f=T(new Map),s=T(new Map),S=T(new Map),x=T(new Map),N=T(new Set),j=T(new Map),I={text:"MTextField",email:"MTextField",password:"MTextField",tel:"MTextField",number:"MTextField",date:"MTextField",textarea:"MTextField",select:"MSelect",checkbox:"MCheckbox",radio:"MRadioGroup",slider:"MSlider",switch:"MSwitch",file:"MFileInput",currency:"MCurrencyInput",ssn:"MSSNInput"},z={required:(e,o="This field is required")=>e==null||e===""?o:!0,minLength:(e,o)=>l=>l&&l.length<e?o||`Minimum length is ${e} characters`:!0,maxLength:(e,o)=>l=>l&&l.length>e?o||`Maximum length is ${e} characters`:!0,pattern:(e,o)=>l=>l&&!e.test(l)?o||"Invalid format":!0,email:(e,o="Please enter a valid email address")=>e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?o:!0,phone:(e,o="Please enter a valid phone number")=>e&&!/^\(?(\d{3})\)?[-.\s]?(\d{3})[-.\s]?(\d{4})$/.test(e)?o:!0,ssn:(e,o="Please enter a valid SSN (XXX-XX-XXXX)")=>e&&!/^\d{3}-\d{2}-\d{4}$/.test(e)?o:!0,minValue:(e,o)=>l=>l!=null&&Number(l)<e?o||`Minimum value is ${e}`:!0,maxValue:(e,o)=>l=>l!=null&&Number(l)>e?o||`Maximum value is ${e}`:!0,custom:(e,o)=>(l,y)=>{const M=e(l,y);return M===!0?!0:o||M}},W=e=>{g.value=e,Q()},Q=()=>{g.value.fields&&(f.clear(),s.clear(),S.clear(),x.clear(),j.clear(),g.value.fields.forEach(e=>{Y(e)}),g.value.defaults&&Object.entries(g.value.defaults).forEach(([e,o])=>{d.setProperty(e,o)}),h&&Z(),b&&$(),p&&q())},Y=e=>{const{id:o,type:l="text",component:y,validation:M=[],conditional:D,calculation:V,dependencies:C=[]}=e;if(f.set(o,{...e,component:y||I[l]||"MTextField"}),M.length>0){const k=M.map(E=>{if(typeof E=="string")return z[E];if(typeof E=="object"){const{type:de,...me}=E;return z[de](...Object.values(me),E.message)}return E});d.addValidator(o,(E,de)=>{for(const me of k){const ge=me(E,de);if(ge!==!0)return ge}return!0})}D&&s.set(o,D),V&&S.set(o,V),C.length>0&&(j.set(o,C),C.forEach(k=>{j.has(k)||j.set(k,[]),j.get(k).push(o)}))},Z=()=>{f.forEach((e,o)=>{d.watchProperty(o,l=>{_(o)})})},$=()=>{s.forEach((e,o)=>{const{dependencies:l=[],condition:y}=e;l.forEach(M=>{d.watchProperty(M,()=>{U(o,e)})}),U(o,e)})},q=()=>{S.forEach((e,o)=>{const{dependencies:l=[],formula:y}=e;l.forEach(M=>{d.watchProperty(M,()=>{A(o,e)})}),A(o,e)})},_=e=>{if(!f.get(e))return!0;const l=d.getProperty(e);if(d.storage.data,x.delete(e),N.has(e)||l!=null&&l!==""){const y=d.validateAll();if(y!==!0&&y[e])return x.set(e,y[e]),!1}return!0},U=(e,o)=>{const{condition:l,action:y="show"}=o,M=d.storage.data;try{const D={data:M,get:k=>d.getProperty(k),has:k=>d.hasProperty(k),Math,Number,String,Array,Object},V=typeof l=="function"?l(D):B(l,D),C=f.get(e);if(C)switch(y){case"show":C.visible=V;break;case"enable":C.disabled=!V;break;case"require":C.required=V;break}}catch(D){console.warn(`Conditional evaluation error for field ${e}:`,D)}},A=(e,o)=>{const{formula:l,type:y="number"}=o,M=d.storage.data;try{const D={data:M,get:k=>d.getProperty(k,0),has:k=>d.hasProperty(k),Math,Number,String,Array,Object},V=typeof l=="function"?l(D):B(l,D);let C;switch(y){case"currency":C=Number(V).toFixed(2);break;case"percentage":C=(Number(V)*100).toFixed(1);break;case"integer":C=Math.round(Number(V));break;default:C=V}d.setProperty(e,C)}catch(D){console.warn(`Calculation error for field ${e}:`,D)}},B=(e,o)=>new Function(...Object.keys(o),`return ${e}`)(...Object.values(o)),ee=(e,o)=>{d.setProperty(e,o),N.add(e),j.has(e)&&j.get(e).forEach(y=>{s.has(y)&&U(y,s.get(y)),S.has(y)&&A(y,S.get(y)),_(y)}),_(e)},te=(e,o)=>d.getProperty(e,o),se=e=>x.get(e)||null,re=e=>x.has(e),ae=e=>{N.add(e),_(e)},ne=e=>f.get(e)||null,oe=e=>{const o=f.get(e);return o?o.visible!==!1:!0},ie=e=>{const o=f.get(e);return o?o.disabled===!0:!1},K=()=>{let e=!0;return f.forEach((o,l)=>{N.add(l),_(l)||(e=!1)}),e},X=async e=>{if(!K())return{success:!1,errors:Object.fromEntries(x),message:"Please correct the errors before submitting"};try{return{success:!0,data:await e(d.storage.data),message:"Form submitted successfully"}}catch(l){return{success:!1,error:l.message,message:"Submission failed"}}},le=()=>{d.clear(),x.clear(),N.clear(),g.value.defaults&&Object.entries(g.value.defaults).forEach(([e,o])=>{d.setProperty(e,o)})},ce=(e="json")=>d.exportData(e),ue=(e,o="json")=>d.importData(e,o),a=R(()=>x.size===0),n=R(()=>d.storage.data),i=R(()=>d.hasUnsavedChanges),u=R(()=>Object.fromEntries(x));return{loadSchema:W,resetForm:le,submitForm:X,validateForm:K,setFieldValue:ee,getFieldValue:te,touchField:ae,getFieldConfig:ne,getFieldError:se,hasFieldError:re,isFieldVisible:oe,isFieldDisabled:ie,formSchema:Ce(g),fieldComponents:Ce(f),isFormValid:a,formData:n,formErrors:u,hasUnsavedChanges:i,storage:d,exportForm:ce,importForm:ue,addCustomValidator:(e,o)=>d.addValidator(e,o),addCustomCalculation:(e,o)=>{S.set(e,o),q()},addConditionalRule:(e,o)=>{s.set(e,o),$()}}}function Ce(t){return new Proxy(t,{set(){return console.warn("Direct mutation not allowed"),!1}})}const Fe={name:"DynamicFormRenderer",components:{MCard:Me,MButton:ke,MTextField:fe,MSelect:he,MCheckbox:ye,MSlider:be},props:{schema:{type:Object,required:!0},storageKey:{type:String,default:"dynamic_form"},storageType:{type:String,default:"localStorage"},onSubmit:{type:Function,default:null}},setup(t){return{...Pe({storageKey:t.storageKey,autoSave:!0,enableValidation:!0,enableConditionalLogic:!0,enableCalculations:!0})}},data(){return{isSubmitting:!1,showSubmissionModal:!1,submissionResult:null}},computed:{calculatedFields(){var r,m,h,b;const t=[];if((r=this.formData.employment)!=null&&r.grossMonthlyIncome&&((m=this.formData.financial)!=null&&m.monthlyDebtPayments)){const p=Number(this.formData.employment.grossMonthlyIncome)||0,d=Number(this.formData.financial.monthlyDebtPayments)||0,g=p>0?d/p*100:0;t.push({id:"debt_to_income",label:"Debt-to-Income Ratio",value:g,format:"percentage",colorClass:g<=30?"text-green-600":g<=40?"text-yellow-600":"text-red-600"})}if((h=this.formData.loan)!=null&&h.amount&&((b=this.formData.loan)!=null&&b.term)){const p=Number(this.formData.loan.amount)||0,d=Number(this.formData.loan.term)||12,g=this.getEstimatedRate(),f=this.calculateMonthlyPayment(p,g,d);t.push({id:"monthly_payment",label:"Est. Monthly Payment",value:f,format:"currency",colorClass:"text-blue-600"})}return t},hasCalculatedFields(){return this.calculatedFields.length>0}},mounted(){this.loadSchema(this.schema)},watch:{schema:{handler(t){this.loadSchema(t)},deep:!0}},methods:{getFieldComponent(t){const r={MTextField:fe,MSelect:he,MCheckbox:ye,MSlider:be},m=this.getFieldConfig(t.id),h=(m==null?void 0:m.component)||"MTextField";return r[h]||fe},getFieldProps(t){const r={label:t.label,placeholder:t.placeholder,helperText:t.helperText,prependIcon:t.icon,required:this.isFieldRequired(t)};return t.type==="select"&&t.options&&(r.options=t.options,r.searchable=t.searchable),t.type==="slider"&&(r.min=t.min||0,r.max=t.max||100,r.step=t.step||1,r.showValue=t.showValue!==!1,r.formatValue=t.formatValue,r.color=t.color||"primary"),t.type==="textarea"&&(r.multiline=!0,r.rows=t.rows||3),t.styling&&(t.styling.wrap&&(r.wrap=!0,r.wrapperClass=t.styling.wrapperClass),t.styling.extend&&(r.extend=!0,r.extendedClass=t.styling.extendedClass)),r},getFieldContainerClasses(t){var m,h;const r=[];return(m=t.layout)!=null&&m.colSpan&&r.push(`md:col-span-${t.layout.colSpan}`),(h=t.layout)!=null&&h.className&&r.push(t.layout.className),r.join(" ")},getSectionClasses(t){var m;const r=[];return(m=t.styling)!=null&&m.className&&r.push(t.styling.className),r.join(" ")},isSectionVisible(t){if(!t.conditional)return!0;const{condition:r}=t.conditional;return typeof r=="function"?r(this.formData):!0},isFieldRequired(t){const r=this.getFieldConfig(t.id);return(r==null?void 0:r.required)||t.required||!1},getFieldLabel(t){const r=this.getFieldConfig(t);return(r==null?void 0:r.label)||t},formatCalculatedValue(t){switch(t.format){case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(t.value);case"percentage":return`${t.value.toFixed(1)}%`;default:return t.value.toString()}},getEstimatedRate(){var r;const t=Number((r=this.formData.financial)==null?void 0:r.creditScore)||650;return t>=750?.06:t>=700?.08:t>=650?.12:.18},calculateMonthlyPayment(t,r,m){const h=r/12;if(h===0)return t/m;const b=t*h*Math.pow(1+h,m),p=Math.pow(1+h,m)-1;return b/p},formatTimeAgo(t){const m=Math.floor((new Date-t)/1e3);return m<60?"just now":m<3600?`${Math.floor(m/60)}m ago`:m<86400?`${Math.floor(m/3600)}h ago`:`${Math.floor(m/86400)}d ago`},async handleSubmit(){this.isSubmitting=!0;try{const t=await this.submitForm(async r=>this.onSubmit?await this.onSubmit(r):(await new Promise(m=>setTimeout(m,2e3)),{id:"APP-"+Date.now(),status:"submitted",timestamp:new Date().toISOString()}));this.submissionResult=t,this.showSubmissionModal=!0}catch(t){this.submissionResult={success:!1,message:`Submission failed: ${t.message}`},this.showSubmissionModal=!0}finally{this.isSubmitting=!1}},exportData(){const t=this.exportForm("json"),r=new Blob([t],{type:"application/json"}),m=URL.createObjectURL(r),h=document.createElement("a");h.href=m,h.download=`form-data-${Date.now()}.json`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(m)},handleImport(t){const r=t.target.files[0];if(!r)return;const m=new FileReader;m.onload=h=>{try{const b=JSON.parse(h.target.result);this.importForm(b)}catch{alert("Invalid JSON file")}},m.readAsText(r)}}},Te={class:"dynamic-form-renderer"},Re={class:"bg-white shadow-sm border-b sticky top-0 z-10"},Ae={class:"max-w-6xl mx-auto px-4 py-4"},Le={class:"flex items-center justify-between"},Je={class:"text-2xl font-bold text-gray-900"},Ie={class:"text-gray-600"},ze={class:"text-right"},$e={class:"flex items-center space-x-4"},qe={class:"text-sm"},Ue={class:"flex items-center"},Be={class:"text-xs text-gray-500"},Ke={key:0,class:"text-xs text-orange-600"},Xe={class:"max-w-6xl mx-auto px-4 py-8"},Ge={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},He={class:"lg:col-span-3 space-y-6"},We={key:0,class:"text-xs text-gray-500 mt-1"},Qe={key:1,class:"text-xs text-red-600 mt-1"},Ye={class:"lg:col-span-1 space-y-6"},Ze={class:"space-y-3"},et={class:"border-t pt-3"},tt={class:"space-y-3 text-sm"},st={class:"flex justify-between"},rt={class:"font-medium"},at={class:"flex justify-between"},nt={class:"font-medium"},ot={class:"flex justify-between"},it={class:"font-medium"},lt={key:0,class:"flex justify-between"},ct={class:"font-medium text-xs"},ut={class:"space-y-3 text-sm"},dt={class:"text-xs"},mt={class:"bg-gray-100 p-2 rounded max-h-60 overflow-auto"},ft={class:"space-y-2"},pt={class:"font-medium"},gt={class:"text-center"},ht={class:"text-lg font-semibold mb-2"},yt={class:"text-gray-600 mb-4"};function bt(t,r,m,h,b,p){const d=Se("MCard"),g=Se("MButton");return w(),F("div",Te,[c("div",Re,[c("div",Ae,[c("div",Le,[c("div",null,[c("h1",Je,v(t.formSchema.title||"Dynamic Form"),1),c("p",Ie,v(t.formSchema.description||"Powered by dynamic rendering engine"),1)]),c("div",ze,[c("div",$e,[c("div",qe,[c("div",Ue,[c("i",{class:L([t.isFormValid?"fas fa-check-circle text-green-500":"fas fa-exclamation-circle text-red-500","mr-1"])},null,2),c("span",null,v(t.isFormValid?"Valid":"Has Errors"),1)]),c("div",Be,v(Object.keys(t.formData).length)+" fields â€¢ "+v(Math.round(t.storage.dataSize/1024))+"KB ",1)]),t.hasUnsavedChanges?(w(),F("div",Ke,r[5]||(r[5]=[c("i",{class:"fas fa-save mr-1"},null,-1),ve(" Auto-saving... ")]))):P("",!0)])])])])]),c("div",Xe,[c("div",Ge,[c("div",He,[(w(!0),F(G,null,H(t.formSchema.sections,f=>we((w(),F("div",{key:f.id},[O(d,{title:f.title,subtitle:f.description,class:L(p.getSectionClasses(f))},{default:J(()=>[c("div",{class:L(f.layout==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-4":"space-y-4")},[(w(!0),F(G,null,H(f.fields,s=>we((w(),F("div",{key:s.id,class:L(p.getFieldContainerClasses(s))},[(w(),pe(Ve(p.getFieldComponent(s)),Oe({ref_for:!0},p.getFieldProps(s),{"model-value":t.getFieldValue(s.id,s.defaultValue),"onUpdate:modelValue":S=>t.setFieldValue(s.id,S),onBlur:S=>t.touchField(s.id),"error-message":t.getFieldError(s.id),disabled:t.isFieldDisabled(s.id),required:p.isFieldRequired(s)}),null,16,["model-value","onUpdate:modelValue","onBlur","error-message","disabled","required"])),s.helpText?(w(),F("div",We,v(s.helpText),1)):P("",!0),s.showValidationStatus&&t.hasFieldError(s.id)?(w(),F("div",Qe,[r[6]||(r[6]=c("i",{class:"fas fa-exclamation-triangle mr-1"},null,-1)),ve(" "+v(t.getFieldError(s.id)),1)])):P("",!0)],2)),[[xe,t.isFieldVisible(s.id)]])),128))],2)]),_:2},1032,["title","subtitle","class"])])),[[xe,p.isSectionVisible(f)]])),128))]),c("div",Ye,[O(d,{title:"Form Controls",subtitle:"Actions and operations"},{default:J(()=>[c("div",Ze,[O(g,{onClick:t.validateForm,variant:"outlined",text:"Validate All","prepend-icon":"fas fa-check-circle","full-width":!0,size:"sm"},null,8,["onClick"]),O(g,{onClick:p.handleSubmit,disabled:!t.isFormValid,loading:b.isSubmitting,text:"Submit Form","prepend-icon":"fas fa-paper-plane","full-width":!0,size:"sm"},null,8,["onClick","disabled","loading"]),O(g,{onClick:t.resetForm,variant:"outlined",color:"warning",text:"Reset Form","prepend-icon":"fas fa-undo","full-width":!0,size:"sm"},null,8,["onClick"]),c("div",et,[O(g,{onClick:p.exportData,variant:"outlined",color:"secondary",text:"Export JSON","prepend-icon":"fas fa-download","full-width":!0,size:"sm"},null,8,["onClick"]),c("input",{ref:"importInput",type:"file",accept:".json",onChange:r[0]||(r[0]=(...f)=>p.handleImport&&p.handleImport(...f)),class:"hidden"},null,544),O(g,{onClick:r[1]||(r[1]=f=>t.$refs.importInput.click()),variant:"outlined",color:"secondary",text:"Import JSON","prepend-icon":"fas fa-upload","full-width":!0,size:"sm",class:"mt-2"})])])]),_:1}),O(d,{title:"Storage Engine",subtitle:"Data persistence status"},{default:J(()=>[c("div",tt,[c("div",st,[r[7]||(r[7]=c("span",null,"Storage Type:",-1)),c("span",rt,v(m.storageType),1)]),r[11]||(r[11]=c("div",{class:"flex justify-between"},[c("span",null,"Auto-save:"),c("span",{class:"font-medium text-green-600"},"Enabled")],-1)),r[12]||(r[12]=c("div",{class:"flex justify-between"},[c("span",null,"Encryption:"),c("span",{class:"font-medium text-blue-600"},"Active")],-1)),c("div",at,[r[8]||(r[8]=c("span",null,"Data Size:",-1)),c("span",nt,v(Math.round(t.storage.dataSize/1024))+"KB",1)]),c("div",ot,[r[9]||(r[9]=c("span",null,"Version:",-1)),c("span",it,v(t.storage.storage.metadata.version),1)]),t.storage.storage.lastSaved?(w(),F("div",lt,[r[10]||(r[10]=c("span",null,"Last Saved:",-1)),c("span",ct,v(p.formatTimeAgo(t.storage.storage.lastSaved)),1)])):P("",!0)])]),_:1}),p.hasCalculatedFields?(w(),pe(d,{key:0,title:"Live Calculations",subtitle:"Real-time computed values"},{default:J(()=>[c("div",ut,[(w(!0),F(G,null,H(p.calculatedFields,f=>(w(),F("div",{key:f.id,class:"flex justify-between"},[c("span",null,v(f.label)+":",1),c("span",{class:L(["font-medium",f.colorClass])},v(p.formatCalculatedValue(f)),3)]))),128))])]),_:1})):P("",!0),O(d,{title:"Data Inspector",subtitle:"Live form data"},{default:J(()=>[c("div",dt,[c("div",mt,[c("pre",null,v(JSON.stringify(t.formData,null,2)),1)])])]),_:1}),Object.keys(t.formErrors).length>0?(w(),pe(d,{key:1,title:"Validation Errors",subtitle:"Current form issues"},{default:J(()=>[c("div",ft,[(w(!0),F(G,null,H(t.formErrors,(f,s)=>(w(),F("div",{key:s,class:"text-xs text-red-600 p-2 bg-red-50 rounded"},[c("div",pt,v(p.getFieldLabel(s)),1),c("div",null,v(f),1)]))),128))])]),_:1})):P("",!0)])])]),b.showSubmissionModal?(w(),F("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:r[4]||(r[4]=f=>b.showSubmissionModal=!1)},[c("div",{class:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:r[3]||(r[3]=_e(()=>{},["stop"]))},[c("div",gt,[c("i",{class:L([b.submissionResult.success?"fas fa-check-circle text-green-500":"fas fa-exclamation-circle text-red-500","text-4xl mb-4"])},null,2),c("h3",ht,v(b.submissionResult.success?"Success!":"Error"),1),c("p",yt,v(b.submissionResult.message),1),O(g,{onClick:r[2]||(r[2]=f=>b.showSubmissionModal=!1),text:"Close","full-width":!0})])])])):P("",!0)])}const Dt=Ne(Fe,[["render",bt],["__scopeId","data-v-3305cd7e"]]);Fe.__docgenInfo={displayName:"DynamicFormRenderer",exportName:"default",description:"",tags:{},props:[{name:"schema",type:{name:"object"},required:!0},{name:"storageKey",type:{name:"string"},defaultValue:{func:!1,value:"'dynamic_form'"}},{name:"storageType",type:{name:"string"},defaultValue:{func:!1,value:"'localStorage'"}},{name:"onSubmit",type:{name:"func"},defaultValue:{func:!1,value:"null"}}],sourceFiles:["C:/Users/bradl/OneDrive/Documents/GitHub/bmc-navigator-component/src/components/dynamic/DynamicFormRenderer.vue"]};export{Dt as D,Pe as a,je as u};
