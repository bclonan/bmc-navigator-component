import{C as b,D as m,s as i,E as v,z as s,l as u,k as r,p as o,N as x,u as V,v as c,B as p,T as C,J as O,q as w,O as k,F as h,x as y}from"./vue.esm-bundler-BOts1VAj.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const g={name:"MSelect",props:{modelValue:{type:[String,Number,Object,Array],default:null},options:{type:Array,required:!0,default:()=>[]},variant:{type:String,default:"outlined",validator:e=>["outlined","filled","standard"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},label:{type:String,default:""},placeholder:{type:String,default:"Select an option..."},helperText:{type:String,default:""},errorMessage:{type:String,default:""},prependIcon:{type:String,default:null},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},returnObject:{type:Boolean,default:!1},name:{type:String,default:null},wrap:{type:Boolean,default:!1},extend:{type:Boolean,default:!1},wrapperClass:{type:String,default:""},extendedClass:{type:String,default:""}},data(){return{isOpen:!1,searchQuery:"",fieldId:`m-select-${Math.random().toString(36).substr(2,9)}`}},computed:{displayValue(){if(!this.modelValue)return"";if(this.multiple)return Array.isArray(this.modelValue)&&this.modelValue.length>0?this.modelValue.length===1?this.getOptionLabel(this.findOptionByValue(this.modelValue[0])):`${this.modelValue.length} items selected`:"";const e=this.findOptionByValue(this.modelValue);return e?this.getOptionLabel(e):""},filteredOptions(){if(!this.searchQuery||!this.searchable)return this.options;const e=this.searchQuery.toLowerCase();return this.options.filter(l=>this.getOptionLabel(l).toLowerCase().includes(e))},hasError(){return!!this.errorMessage},hasHelperText(){return this.errorMessage||this.helperText},containerClasses(){return["relative w-full",{"opacity-60":this.disabled}]},labelClasses(){const e="block text-sm font-medium mb-1 transition-colors duration-200";return this.hasError?`${e} text-red-600`:this.isOpen?`${e} text-blue-600`:`${e} text-gray-700`},selectContainerClasses(){let t=`relative flex items-center cursor-pointer transition-all duration-200 ${{outlined:"border rounded-md bg-white",filled:"border-0 border-b-2 bg-gray-50 rounded-t-md",standard:"border-0 border-b-2 bg-transparent"}[this.variant]}`;return this.hasError?t+=(this.variant==="outlined"," border-red-500"):this.isOpen?t+=this.variant==="outlined"?" border-blue-500 ring-1 ring-blue-500":" border-blue-500":t+=(this.variant==="outlined"," border-gray-300"),this.disabled&&(t+=" bg-gray-100 cursor-not-allowed"),t},valueClasses(){return["flex-1 text-left",{sm:"px-3 py-2 text-sm",md:"px-3 py-2.5 text-base",lg:"px-4 py-3 text-lg"}[this.size],this.disabled?"text-gray-400":"text-gray-900"]},iconClasses(){return["flex items-center text-gray-400",{sm:"px-2",md:"px-3",lg:"px-4"}[this.size]]},arrowClasses(){return["flex items-center text-gray-400",{sm:"px-2",md:"px-3",lg:"px-4"}[this.size]]},dropdownClasses(){return["absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg","focus:outline-none"]},helperClasses(){return["mt-1 text-xs",this.hasError?"text-red-600":"text-gray-500"]}},mounted(){document.addEventListener("click",this.handleOutsideClick)},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick)},methods:{getOptionLabel(e){return e?typeof e=="string"||typeof e=="number"?String(e):e[this.itemText]||e.label||e.name||String(e):""},getOptionValue(e){return e?typeof e=="string"||typeof e=="number"?e:e[this.itemValue]||e.value||e.id||e:null},findOptionByValue(e){return this.options.find(l=>this.getOptionValue(l)===e)},isSelected(e){const l=this.getOptionValue(e);return this.multiple?Array.isArray(this.modelValue)&&this.modelValue.includes(l):this.modelValue===l},getOptionClasses(e){return["flex items-center justify-between px-3 py-2 text-sm cursor-pointer transition-colors duration-150",this.isSelected(e)?"bg-blue-50 text-blue-600":"text-gray-900 hover:bg-gray-50"]},toggleDropdown(){this.disabled||(this.isOpen=!this.isOpen,this.isOpen&&this.searchable&&this.$nextTick(()=>{var e;(e=this.$refs.searchInput)==null||e.focus()}))},selectOption(e){const l=this.returnObject?e:this.getOptionValue(e);if(this.multiple){const t=Array.isArray(this.modelValue)?[...this.modelValue]:[],f=this.getOptionValue(e);if(t.includes(f)){const d=t.filter(a=>a!==f);this.$emit("update:modelValue",d)}else t.push(l),this.$emit("update:modelValue",t)}else this.$emit("update:modelValue",l),this.isOpen=!1;this.$emit("change",l),this.searchQuery=""},handleOutsideClick(e){this.$el.contains(e.target)||(this.isOpen=!1,this.searchQuery="")}}},S=["for"],B={key:0,class:"text-red-500 ml-1"},M={key:0,class:"truncate"},z={key:1,class:"text-gray-400"},T={key:0,class:"p-2 border-b border-gray-200"},L={key:1,class:"px-3 py-2 text-sm text-gray-500 text-center"},I={key:2,class:"max-h-60 overflow-y-auto"},q=["onClick"],N={class:"truncate"},D={key:0,class:"w-4 h-4 text-blue-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},A={key:0,class:"m-select-error"},E={key:1,class:"m-select-helper-text"},Q=["id","name","required","disabled","value"],j=["value"];function F(e,l,t,f,d,a){return s(),b(v((t.wrap,"div")),{class:i(t.wrap?["m-select-wrapper",t.wrapperClass]:null)},{default:m(()=>[u("div",{class:i(["m-select",[a.containerClasses,t.extend?t.extendedClass:null]])},[t.label?(s(),r("label",{key:0,for:d.fieldId,class:i(["m-select-label",a.labelClasses])},[V(c(t.label)+" ",1),t.required?(s(),r("span",B,"*")):o("",!0)],10,S)):o("",!0),u("div",{class:i(["m-select-container",a.selectContainerClasses]),onClick:l[0]||(l[0]=(...n)=>a.toggleDropdown&&a.toggleDropdown(...n))},[t.prependIcon?(s(),r("div",{key:0,class:i(["m-select-prepend",a.iconClasses])},[p(e.$slots,"prepend-icon",{},()=>[u("i",{class:i(t.prependIcon)},null,2)],!0)],2)):o("",!0),u("div",{class:i(["m-select-value",a.valueClasses])},[a.displayValue?(s(),r("span",M,c(a.displayValue),1)):(s(),r("span",z,c(t.placeholder),1))],2),u("div",{class:i(["m-select-arrow",a.arrowClasses])},[(s(),r("svg",{class:i(["w-4 h-4 transition-transform duration-200",{"rotate-180":d.isOpen}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},l[3]||(l[3]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2)],2),x(C,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:m(()=>[d.isOpen?(s(),r("div",{key:0,class:i(["m-select-dropdown",a.dropdownClasses])},[t.searchable?(s(),r("div",T,[O(u("input",{ref:"searchInput","onUpdate:modelValue":l[1]||(l[1]=n=>d.searchQuery=n),type:"text",placeholder:"Search...",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onClick:l[2]||(l[2]=w(()=>{},["stop"]))},null,512),[[k,d.searchQuery]])])):o("",!0),a.filteredOptions.length===0?(s(),r("div",L,c(d.searchQuery?"No results found":"No options available"),1)):(s(),r("div",I,[(s(!0),r(h,null,y(a.filteredOptions,n=>(s(),r("div",{key:a.getOptionValue(n),class:i(["m-select-option",a.getOptionClasses(n)]),onClick:H=>a.selectOption(n)},[p(e.$slots,"option",{option:n},()=>[u("span",N,c(a.getOptionLabel(n)),1)],!0),a.isSelected(n)?(s(),r("svg",D,l[4]||(l[4]=[u("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):o("",!0)],10,q))),128))]))],2)):o("",!0)]),_:3}),a.hasHelperText?(s(),r("div",{key:1,class:i(["m-select-helper",a.helperClasses])},[t.errorMessage?(s(),r("span",A,c(t.errorMessage),1)):t.helperText?(s(),r("span",E,c(t.helperText),1)):o("",!0)],2)):o("",!0),u("select",{id:d.fieldId,name:t.name,required:t.required,disabled:t.disabled,class:"sr-only",tabindex:"-1",value:t.modelValue},[(s(!0),r(h,null,y(t.options,n=>(s(),r("option",{key:a.getOptionValue(n),value:a.getOptionValue(n)},c(a.getOptionLabel(n)),9,j))),128))],8,Q)],2)]),_:3},8,["class"])}const J=_(g,[["render",F],["__scopeId","data-v-cfc1506f"]]);g.__docgenInfo={displayName:"MSelect",exportName:"default",description:"",tags:{},props:[{name:"modelValue",type:{name:"string|number|object|array"},defaultValue:{func:!1,value:"null"}},{name:"options",type:{name:"array"},required:!0,defaultValue:{func:!1,value:"[]"}},{name:"variant",type:{name:"string"},defaultValue:{func:!1,value:"'outlined'"},values:["outlined","filled","standard"]},{name:"size",type:{name:"string"},defaultValue:{func:!1,value:"'md'"},values:["sm","md","lg"]},{name:"label",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"'Select an option...'"}},{name:"helperText",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"errorMessage",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"prependIcon",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"searchable",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"multiple",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"itemText",type:{name:"string"},defaultValue:{func:!1,value:"'text'"}},{name:"itemValue",type:{name:"string"},defaultValue:{func:!1,value:"'value'"}},{name:"returnObject",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"name",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"wrap",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"extend",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"wrapperClass",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"extendedClass",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"update:modelValue",type:{names:["undefined"]}},{name:"change",type:{names:["undefined"]}}],slots:[{name:"prepend-icon"},{name:"option",scoped:!0,bindings:[{name:"option",title:"binding"}]}],sourceFiles:["C:/Users/bradl/OneDrive/Documents/GitHub/bmc-navigator-component/src/components/ui/MSelect.vue"]};export{J as M};
