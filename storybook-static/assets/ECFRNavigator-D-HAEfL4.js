import{E as Re,u as Oe}from"./ECFRSection-CJFRE6S2.js";import{E as Te}from"./ECFRBreadcrumb-D9-R7w7A.js";import{k as x,C as he,p as A,N as Z,l as c,s as h,J as T,K as j,O as q,S as ge,D as $,T as ee,v as M,F as V,x as W,Q as fe,z as b}from"./vue.esm-bundler-BOts1VAj.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";function E(t){return Array.isArray?Array.isArray(t):Ae(t)==="[object Array]"}function Le(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function _e(t){return t==null?"":Le(t)}function D(t){return typeof t=="string"}function ve(t){return typeof t=="number"}function Ue(t){return t===!0||t===!1||Ne(t)&&Ae(t)=="[object Boolean]"}function we(t){return typeof t=="object"}function Ne(t){return we(t)&&t!==null}function F(t){return t!=null}function te(t){return!t.trim().length}function Ae(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Pe="Incorrect 'index' type",je=t=>`Invalid value for key ${t}`,Ve=t=>`Pattern length exceeds max of ${t}.`,We=t=>`Missing ${t} property in key`,Je=t=>`Property 'weight' in key '${t}' must be a positive integer`,me=Object.prototype.hasOwnProperty;class Ke{constructor(e){this._keys=[],this._keyMap={};let s=0;e.forEach(a=>{let r=Me(a);this._keys.push(r),this._keyMap[r.id]=r,s+=r.weight}),this._keys.forEach(a=>{a.weight/=s})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Me(t){let e=null,s=null,a=null,r=1,i=null;if(D(t)||E(t))a=t,e=pe(t),s=ie(t);else{if(!me.call(t,"name"))throw new Error(We("name"));const o=t.name;if(a=o,me.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(Je(o));e=pe(o),s=ie(o),i=t.getFn}return{path:e,id:s,weight:r,src:a,getFn:i}}function pe(t){return E(t)?t:t.split(".")}function ie(t){return E(t)?t.join("."):t}function Qe(t,e){let s=[],a=!1;const r=(i,o,l)=>{if(F(i))if(!o[l])s.push(i);else{let n=o[l];const u=i[n];if(!F(u))return;if(l===o.length-1&&(D(u)||ve(u)||Ue(u)))s.push(_e(u));else if(E(u)){a=!0;for(let d=0,f=u.length;d<f;d+=1)r(u[d],o,l+1)}else o.length&&r(u,o,l+1)}};return r(t,D(e)?e.split("."):e,0),a?s:s[0]}const He={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ge={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Ye={location:0,threshold:.6,distance:100},Xe={useExtendedSearch:!1,getFn:Qe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var g={...Ge,...He,...Ye,...Xe};const Ze=/[^ ]+/g;function qe(t=1,e=3){const s=new Map,a=Math.pow(10,e);return{get(r){const i=r.match(Ze).length;if(s.has(i))return s.get(i);const o=1/Math.pow(i,.5*t),l=parseFloat(Math.round(o*a)/a);return s.set(i,l),l},clear(){s.clear()}}}class ce{constructor({getFn:e=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){this.norm=qe(s,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((s,a)=>{this._keysMap[s.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,D(this.docs[0])?this.docs.forEach((e,s)=>{this._addString(e,s)}):this.docs.forEach((e,s)=>{this._addObject(e,s)}),this.norm.clear())}add(e){const s=this.size();D(e)?this._addString(e,s):this._addObject(e,s)}removeAt(e){this.records.splice(e,1);for(let s=e,a=this.size();s<a;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(e,s){return e[this._keysMap[s]]}size(){return this.records.length}_addString(e,s){if(!F(e)||te(e))return;let a={v:e,i:s,n:this.norm.get(e)};this.records.push(a)}_addObject(e,s){let a={i:s,$:{}};this.keys.forEach((r,i)=>{let o=r.getFn?r.getFn(e):this.getFn(e,r.path);if(F(o)){if(E(o)){let l=[];const n=[{nestedArrIndex:-1,value:o}];for(;n.length;){const{nestedArrIndex:u,value:d}=n.pop();if(F(d))if(D(d)&&!te(d)){let f={v:d,i:u,n:this.norm.get(d)};l.push(f)}else E(d)&&d.forEach((f,m)=>{n.push({nestedArrIndex:m,value:f})})}a.$[i]=l}else if(D(o)&&!te(o)){let l={v:o,n:this.norm.get(o)};a.$[i]=l}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}}function Fe(t,e,{getFn:s=g.getFn,fieldNormWeight:a=g.fieldNormWeight}={}){const r=new ce({getFn:s,fieldNormWeight:a});return r.setKeys(t.map(Me)),r.setSources(e),r.create(),r}function $e(t,{getFn:e=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){const{keys:a,records:r}=t,i=new ce({getFn:e,fieldNormWeight:s});return i.setKeys(a),i.setIndexRecords(r),i}function K(t,{errors:e=0,currentLocation:s=0,expectedLocation:a=0,distance:r=g.distance,ignoreLocation:i=g.ignoreLocation}={}){const o=e/t.length;if(i)return o;const l=Math.abs(a-s);return r?o+l/r:l?1:o}function et(t=[],e=g.minMatchCharLength){let s=[],a=-1,r=-1,i=0;for(let o=t.length;i<o;i+=1){let l=t[i];l&&a===-1?a=i:!l&&a!==-1&&(r=i-1,r-a+1>=e&&s.push([a,r]),a=-1)}return t[i-1]&&i-a>=e&&s.push([a,i-1]),s}const _=32;function tt(t,e,s,{location:a=g.location,distance:r=g.distance,threshold:i=g.threshold,findAllMatches:o=g.findAllMatches,minMatchCharLength:l=g.minMatchCharLength,includeMatches:n=g.includeMatches,ignoreLocation:u=g.ignoreLocation}={}){if(e.length>_)throw new Error(Ve(_));const d=e.length,f=t.length,m=Math.max(0,Math.min(a,f));let p=i,y=m;const w=l>1||n,S=w?Array(f):[];let B;for(;(B=t.indexOf(e,y))>-1;){let C=K(e,{currentLocation:B,expectedLocation:m,distance:r,ignoreLocation:u});if(p=Math.min(C,p),y=B+d,w){let R=0;for(;R<d;)S[B+R]=1,R+=1}}y=-1;let I=[],U=1,L=d+f;const Be=1<<d-1;for(let C=0;C<d;C+=1){let R=0,O=L;for(;R<O;)K(e,{errors:C,currentLocation:m+O,expectedLocation:m,distance:r,ignoreLocation:u})<=p?R=O:L=O,O=Math.floor((L-R)/2+R);L=O;let ue=Math.max(1,m-O+1),X=o?f:Math.min(m+O,f)+d,N=Array(X+2);N[X+1]=(1<<C)-1;for(let k=X;k>=ue;k-=1){let J=k-1,de=s[t.charAt(J)];if(w&&(S[J]=+!!de),N[k]=(N[k+1]<<1|1)&de,C&&(N[k]|=(I[k+1]|I[k])<<1|1|I[k+1]),N[k]&Be&&(U=K(e,{errors:C,currentLocation:J,expectedLocation:m,distance:r,ignoreLocation:u}),U<=p)){if(p=U,y=J,y<=m)break;ue=Math.max(1,2*m-y)}}if(K(e,{errors:C+1,currentLocation:m,expectedLocation:m,distance:r,ignoreLocation:u})>p)break;I=N}const Y={isMatch:y>=0,score:Math.max(.001,U)};if(w){const C=et(S,l);C.length?n&&(Y.indices=C):Y.isMatch=!1}return Y}function st(t){let e={};for(let s=0,a=t.length;s<a;s+=1){const r=t.charAt(s);e[r]=(e[r]||0)|1<<a-s-1}return e}const H=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class Ce{constructor(e,{location:s=g.location,threshold:a=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:l=g.minMatchCharLength,isCaseSensitive:n=g.isCaseSensitive,ignoreDiacritics:u=g.ignoreDiacritics,ignoreLocation:d=g.ignoreLocation}={}){if(this.options={location:s,threshold:a,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:n,ignoreDiacritics:u,ignoreLocation:d},e=n?e:e.toLowerCase(),e=u?H(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const f=(p,y)=>{this.chunks.push({pattern:p,alphabet:st(p),startIndex:y})},m=this.pattern.length;if(m>_){let p=0;const y=m%_,w=m-y;for(;p<w;)f(this.pattern.substr(p,_),p),p+=_;if(y){const S=m-_;f(this.pattern.substr(S),S)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:s,ignoreDiacritics:a,includeMatches:r}=this.options;if(e=s?e:e.toLowerCase(),e=a?H(e):e,this.pattern===e){let w={isMatch:!0,score:0};return r&&(w.indices=[[0,e.length-1]]),w}const{location:i,distance:o,threshold:l,findAllMatches:n,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],m=0,p=!1;this.chunks.forEach(({pattern:w,alphabet:S,startIndex:B})=>{const{isMatch:I,score:U,indices:L}=tt(e,w,S,{location:i+B,distance:o,threshold:l,findAllMatches:n,minMatchCharLength:u,includeMatches:r,ignoreLocation:d});I&&(p=!0),m+=U,I&&L&&(f=[...f,...L])});let y={isMatch:p,score:p?m/this.chunks.length:1};return p&&r&&(y.indices=f),y}}class z{constructor(e){this.pattern=e}static isMultiMatch(e){return ye(e,this.multiRegex)}static isSingleMatch(e){return ye(e,this.singleRegex)}search(){}}function ye(t,e){const s=t.match(e);return s?s[1]:null}class it extends z{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const s=e===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class rt extends z{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const a=e.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}}class at extends z{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const s=e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class nt extends z{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const s=!e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class ot extends z{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const s=e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class lt extends z{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const s=!e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class ke extends z{constructor(e,{location:s=g.location,threshold:a=g.threshold,distance:r=g.distance,includeMatches:i=g.includeMatches,findAllMatches:o=g.findAllMatches,minMatchCharLength:l=g.minMatchCharLength,isCaseSensitive:n=g.isCaseSensitive,ignoreDiacritics:u=g.ignoreDiacritics,ignoreLocation:d=g.ignoreLocation}={}){super(e),this._bitapSearch=new Ce(e,{location:s,threshold:a,distance:r,includeMatches:i,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:n,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class De extends z{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let s=0,a;const r=[],i=this.pattern.length;for(;(a=e.indexOf(this.pattern,s))>-1;)s=a+i,r.push([a,s-1]);const o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}const re=[it,De,at,nt,lt,ot,rt,ke],be=re.length,ct=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ut="|";function dt(t,e={}){return t.split(ut).map(s=>{let a=s.trim().split(ct).filter(i=>i&&!!i.trim()),r=[];for(let i=0,o=a.length;i<o;i+=1){const l=a[i];let n=!1,u=-1;for(;!n&&++u<be;){const d=re[u];let f=d.isMultiMatch(l);f&&(r.push(new d(f,e)),n=!0)}if(!n)for(u=-1;++u<be;){const d=re[u];let f=d.isSingleMatch(l);if(f){r.push(new d(f,e));break}}}return r})}const ht=new Set([ke.type,De.type]);class gt{constructor(e,{isCaseSensitive:s=g.isCaseSensitive,ignoreDiacritics:a=g.ignoreDiacritics,includeMatches:r=g.includeMatches,minMatchCharLength:i=g.minMatchCharLength,ignoreLocation:o=g.ignoreLocation,findAllMatches:l=g.findAllMatches,location:n=g.location,threshold:u=g.threshold,distance:d=g.distance}={}){this.query=null,this.options={isCaseSensitive:s,ignoreDiacritics:a,includeMatches:r,minMatchCharLength:i,findAllMatches:l,ignoreLocation:o,location:n,threshold:u,distance:d},e=s?e:e.toLowerCase(),e=a?H(e):e,this.pattern=e,this.query=dt(this.pattern,this.options)}static condition(e,s){return s.useExtendedSearch}searchIn(e){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:a,isCaseSensitive:r,ignoreDiacritics:i}=this.options;e=r?e:e.toLowerCase(),e=i?H(e):e;let o=0,l=[],n=0;for(let u=0,d=s.length;u<d;u+=1){const f=s[u];l.length=0,o=0;for(let m=0,p=f.length;m<p;m+=1){const y=f[m],{isMatch:w,indices:S,score:B}=y.search(e);if(w){if(o+=1,n+=B,a){const I=y.constructor.type;ht.has(I)?l=[...l,...S]:l.push(S)}}else{n=0,o=0,l.length=0;break}}if(o){let m={isMatch:!0,score:n/o};return a&&(m.indices=l),m}}return{isMatch:!1,score:1}}}const ae=[];function ft(...t){ae.push(...t)}function ne(t,e){for(let s=0,a=ae.length;s<a;s+=1){let r=ae[s];if(r.condition(t,e))return new r(t,e)}return new Ce(t,e)}const G={AND:"$and",OR:"$or"},oe={PATH:"$path",PATTERN:"$val"},le=t=>!!(t[G.AND]||t[G.OR]),mt=t=>!!t[oe.PATH],pt=t=>!E(t)&&we(t)&&!le(t),xe=t=>({[G.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Ie(t,e,{auto:s=!0}={}){const a=r=>{let i=Object.keys(r);const o=mt(r);if(!o&&i.length>1&&!le(r))return a(xe(r));if(pt(r)){const n=o?r[oe.PATH]:i[0],u=o?r[oe.PATTERN]:r[n];if(!D(u))throw new Error(je(n));const d={keyId:ie(n),pattern:u};return s&&(d.searcher=ne(u,e)),d}let l={children:[],operator:i[0]};return i.forEach(n=>{const u=r[n];E(u)&&u.forEach(d=>{l.children.push(a(d))})}),l};return le(t)||(t=xe(t)),a(t)}function yt(t,{ignoreFieldNorm:e=g.ignoreFieldNorm}){t.forEach(s=>{let a=1;s.matches.forEach(({key:r,norm:i,score:o})=>{const l=r?r.weight:null;a*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(e?1:i))}),s.score=a})}function bt(t,e){const s=t.matches;e.matches=[],F(s)&&s.forEach(a=>{if(!F(a.indices)||!a.indices.length)return;const{indices:r,value:i}=a;let o={indices:r,value:i};a.key&&(o.key=a.key.src),a.idx>-1&&(o.refIndex=a.idx),e.matches.push(o)})}function xt(t,e){e.score=t.score}function St(t,e,{includeMatches:s=g.includeMatches,includeScore:a=g.includeScore}={}){const r=[];return s&&r.push(bt),a&&r.push(xt),t.map(i=>{const{idx:o}=i,l={item:e[o],refIndex:o};return r.length&&r.forEach(n=>{n(i,l)}),l})}class P{constructor(e,s={},a){this.options={...g,...s},this.options.useExtendedSearch,this._keyStore=new Ke(this.options.keys),this.setCollection(e,a)}setCollection(e,s){if(this._docs=e,s&&!(s instanceof ce))throw new Error(Pe);this._myIndex=s||Fe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){F(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const s=[];for(let a=0,r=this._docs.length;a<r;a+=1){const i=this._docs[a];e(i,a)&&(this.removeAt(a),a-=1,r-=1,s.push(i))}return s}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:s=-1}={}){const{includeMatches:a,includeScore:r,shouldSort:i,sortFn:o,ignoreFieldNorm:l}=this.options;let n=D(e)?D(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return yt(n,{ignoreFieldNorm:l}),i&&n.sort(o),ve(s)&&s>-1&&(n=n.slice(0,s)),St(n,this._docs,{includeMatches:a,includeScore:r})}_searchStringList(e){const s=ne(e,this.options),{records:a}=this._myIndex,r=[];return a.forEach(({v:i,i:o,n:l})=>{if(!F(i))return;const{isMatch:n,score:u,indices:d}=s.searchIn(i);n&&r.push({item:i,idx:o,matches:[{score:u,value:i,norm:l,indices:d}]})}),r}_searchLogical(e){const s=Ie(e,this.options),a=(l,n,u)=>{if(!l.children){const{keyId:f,searcher:m}=l,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(n,f),searcher:m});return p&&p.length?[{idx:u,item:n,matches:p}]:[]}const d=[];for(let f=0,m=l.children.length;f<m;f+=1){const p=l.children[f],y=a(p,n,u);if(y.length)d.push(...y);else if(l.operator===G.AND)return[]}return d},r=this._myIndex.records,i={},o=[];return r.forEach(({$:l,i:n})=>{if(F(l)){let u=a(s,l,n);u.length&&(i[n]||(i[n]={idx:n,item:l,matches:[]},o.push(i[n])),u.forEach(({matches:d})=>{i[n].matches.push(...d)}))}}),o}_searchObjectList(e){const s=ne(e,this.options),{keys:a,records:r}=this._myIndex,i=[];return r.forEach(({$:o,i:l})=>{if(!F(o))return;let n=[];a.forEach((u,d)=>{n.push(...this._findMatches({key:u,value:o[d],searcher:s}))}),n.length&&i.push({idx:l,item:o,matches:n})}),i}_findMatches({key:e,value:s,searcher:a}){if(!F(s))return[];let r=[];if(E(s))s.forEach(({v:i,i:o,n:l})=>{if(!F(i))return;const{isMatch:n,score:u,indices:d}=a.searchIn(i);n&&r.push({score:u,key:e,value:i,idx:o,norm:l,indices:d})});else{const{v:i,n:o}=s,{isMatch:l,score:n,indices:u}=a.searchIn(i);l&&r.push({score:n,key:e,value:i,norm:o,indices:u})}return r}}P.version="7.1.0";P.createIndex=Fe;P.parseIndex=$e;P.config=g;P.parseQuery=Ie;ft(gt);const v=[];for(let t=0;t<256;++t)v.push((t+256).toString(16).slice(1));function vt(t,e=0){return(v[t[e+0]]+v[t[e+1]]+v[t[e+2]]+v[t[e+3]]+"-"+v[t[e+4]]+v[t[e+5]]+"-"+v[t[e+6]]+v[t[e+7]]+"-"+v[t[e+8]]+v[t[e+9]]+"-"+v[t[e+10]]+v[t[e+11]]+v[t[e+12]]+v[t[e+13]]+v[t[e+14]]+v[t[e+15]]).toLowerCase()}let se;const wt=new Uint8Array(16);function At(){if(!se){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");se=crypto.getRandomValues.bind(crypto)}return se(wt)}const Mt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Se={randomUUID:Mt};function Q(t,e,s){var r;if(Se.randomUUID&&!t)return Se.randomUUID();t=t||{};const a=t.random??((r=t.rng)==null?void 0:r.call(t))??At();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,vt(a)}const Ee={name:"ECFRNavigator",components:{ECFRBreadcrumb:Te,ECFRSection:Re},props:{items:{type:Array,default:()=>[]},dataUrl:{type:String,default:null},dataUrls:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})},itemMetadata:{type:Object,default:()=>({})},metadataUrl:{type:String,default:null},initialSelectedItemId:{type:String,default:null}},emits:["item-selected","path-changed","search-completed","update:options","metadata-changed"],data(){return{ecfrStore:Oe(),isLoading:!1,dataLoading:!1,metadataLoading:!1,loadedData:[],loadedMetadata:{},loadingErrors:[],searchQuery:"",searchResults:[],showSearchResults:!1,fuseInstance:null,searchData:[],fuzzyThresholdStep:4,currentViewMode:"standard",currentItemSpacing:"medium",currentFontSize:"medium",showMetadataBadges:!1,showAdvancedSearch:!1,selectedTypeFilters:[],selectedAgency:"",selectedDateRange:"",keywordFilter:"",availableTypes:["title","part","section","chapter","subpart"],availableAgencies:[],activeTooltipId:null,tooltipTimeout:null,defaultOptions:{showBreadcrumb:!1,expandAll:!1,hideContentOnNavigation:!1,theme:"light",showControls:!1,breadcrumb:{rootLabel:"Home",truncate:!0,visibleItems:2,maxVisible:3,type:"scrollable",style:"clean",separatorType:"icon",truncateLabels:!0,highlightLast:!0},fuzzySearch:{enabled:!0,threshold:.4,distance:100},display:{showTypeIcon:!0,showItemNumbers:!0,indentItems:!0,hideEmptyItems:!1,viewMode:"compact",showDescription:!1,showMetadataBadges:!1,itemSpacing:"medium",maxTitleLength:null,animations:!0,enhancedMobile:!0,fontScaling:{enabled:!0,baseSize:"medium",scaleWithWidth:!0,scaleWithViewMode:!0,minSize:"12px",maxSize:"18px",responsive:!0}},filters:{enabled:!0,showTypeFilter:!0,showAgencyFilter:!0,showDateFilter:!0,showKeywordFilter:!0,autoUpdateResults:!0,persistFilters:!0,agencies:[]},pagination:{enabled:!1,itemsPerPage:20},navigation:{preserveState:!0,scrollToSelected:!0,autoExpandParents:!0,autoCollapseOthers:!1},printing:{enablePrintView:!0,includeChildrenWhenPrinting:!0}}}},computed:{mergedOptions(){return{...this.defaultOptions,...this.options}},rootItems(){return this.ecfrStore.rootItems},breadcrumbPath(){return this.ecfrStore.breadcrumbPath},currentItem(){return this.ecfrStore.currentItem},hasActiveFilters(){return this.selectedTypeFilters.length>0||this.selectedAgency!==""||this.selectedDateRange!==""||this.keywordFilter.trim()!==""}},watch:{items:{handler(t){t&&t.length>0&&(this.ecfrStore.setRootItems(t),this.mergedOptions.expandAll&&this.ecfrStore.expandAll(),this.buildSearchIndex(t))},immediate:!0},"ecfrStore.currentItem":{handler(t){if(t){const e=this.ecfrStore.getItemMetadata(t.id),s=e?this.ecfrStore.processItemMetadata(t.id):null;this.$emit("item-selected",{item:t,path:this.ecfrStore.breadcrumbPath,metadata:e,processedMetadata:s})}}},"ecfrStore.breadcrumbPath":{handler(t){this.$emit("path-changed",t)}},itemMetadata:{handler(t){t&&typeof t=="object"&&Object.entries(t).forEach(([e,s])=>{this.ecfrStore.setItemMetadata(e,s)})},deep:!0},initialSelectedItemId:{handler(t){t&&this.$nextTick(()=>{this.navigateTo(t)})}},options:{handler(t){t.display&&(t.display.viewMode&&(this.currentViewMode=t.display.viewMode),t.display.itemSpacing&&(this.currentItemSpacing=t.display.itemSpacing),t.display.showMetadataBadges!==void 0&&(this.showMetadataBadges=t.display.showMetadataBadges))},deep:!0,immediate:!0}},mounted(){this.mergedOptions.display&&this.mergedOptions.display.fontScaling&&this.mergedOptions.display.fontScaling.enabled&&(this.mergedOptions.display.fontScaling.scaleWithWidth&&this.mergedOptions.display.fontScaling.responsive?this.currentFontSize="adaptive":this.currentFontSize=this.mergedOptions.display.fontScaling.baseSize||"medium",this.$nextTick(()=>{this.applyFontSizeClass()})),this.mergedOptions.display&&this.mergedOptions.display.itemSpacing&&(this.currentItemSpacing=this.mergedOptions.display.itemSpacing),this.mergedOptions.display&&this.mergedOptions.display.viewMode&&(this.currentViewMode=this.mergedOptions.display.viewMode),this.mergedOptions.display&&this.mergedOptions.display.showMetadataBadges!==void 0&&(this.showMetadataBadges=this.mergedOptions.display.showMetadataBadges),this.dataUrl||this.dataUrls&&this.dataUrls.length>0?this.loadDataFromUrls().then(()=>{this.initializeComponent()}).catch(e=>{console.error("Error loading data from URLs:",e),this.items&&this.items.length>0&&this.initializeComponent()}):this.items&&this.items.length>0&&this.initializeComponent(),this.metadataUrl&&this.loadMetadataFromUrl()},methods:{initializeComponent(){const t=this.loadedData.length>0?this.loadedData:this.items;t&&t.length>0&&(this.ecfrStore.setRootItems(t),this.mergedOptions.expandAll&&this.ecfrStore.expandAll(),this.itemMetadata&&typeof this.itemMetadata=="object"&&Object.entries(this.itemMetadata).forEach(([e,s])=>{this.ecfrStore.setItemMetadata(e,s)}),Object.keys(this.loadedMetadata).length>0&&Object.entries(this.loadedMetadata).forEach(([e,s])=>{this.ecfrStore.setItemMetadata(e,s)}),this.initialSelectedItemId&&this.$nextTick(()=>{this.navigateTo(this.initialSelectedItemId)}))},loadDataFromUrls(){this.dataLoading=!0,this.loadingErrors=[],this.loadedData=[];const t=[];if(this.dataUrl&&t.push(this.dataUrl),this.dataUrls&&this.dataUrls.length>0&&t.push(...this.dataUrls),t.length===0)return this.dataLoading=!1,Promise.resolve();const e=t.map((r,i)=>this.fetchJsonData(r,`data-${i}`)),s=new Set,a=(r,i)=>Array.isArray(r)?r.map(o=>{if(!o.id)o={...o},o.id=Q(),console.log(`Missing ID detected. Generated UUID: '${o.id}'`);else if(s.has(o.id)){const l=o.id;o={...o},o.id=Q(),console.log(`Duplicate ID detected: '${l}'. Generated UUID: '${o.id}'`)}return s.add(o.id),o.children&&Array.isArray(o.children)&&(o.children=a(o.children)),o}):[];return Promise.all(e).then(r=>(r.forEach((i,o)=>{if(Array.isArray(i)){const l=a(i);this.loadedData.push(...l)}else if(i&&Array.isArray(i.items)){const l=a(i.items);this.loadedData.push(...l)}else if(i&&typeof i=="object"){const l=JSON.parse(JSON.stringify(i));if(!l.id)l.id=Q(),console.log(`Missing ID detected in root object. Generated UUID: '${l.id}'`);else if(s.has(l.id)){const n=l.id;l.id=Q(),console.log(`Duplicate ID detected: '${n}'. Generated UUID: '${l.id}'`)}s.add(l.id),l.children&&Array.isArray(l.children)&&(l.children=a(l.children)),this.loadedData.push(l)}}),this.dataLoading=!1,this.loadedData)).catch(r=>{throw this.loadingErrors.push(`Error loading data: ${r.message}`),this.dataLoading=!1,r})},loadMetadataFromUrl(){return this.metadataUrl?(this.metadataLoading=!0,this.fetchJsonData(this.metadataUrl,"metadata").then(t=>(t&&typeof t=="object"&&(this.loadedMetadata=t,this.ecfrStore.rootItems.length>0&&Object.entries(this.loadedMetadata).forEach(([e,s])=>{this.ecfrStore.setItemMetadata(e,s)})),this.metadataLoading=!1,this.loadedMetadata)).catch(t=>{throw this.loadingErrors.push(`Error loading metadata: ${t.message}`),this.metadataLoading=!1,t})):Promise.resolve()},fetchJsonData(t,e){return new Promise((s,a)=>{const r=t.startsWith("http")||t.startsWith("/")?t:window.location.origin+"/"+t;console.log(`Fetching ${e} from ${r}...`),fetch(r).then(i=>{if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);return i.json()}).then(i=>{console.log(`Successfully loaded ${e} data`),s(i)}).catch(i=>{console.error(`Error fetching ${e} from ${r}:`,i),a(i)})})},expandAll(){this.ecfrStore.expandAll()},collapseAll(){this.ecfrStore.collapseAll()},onSearchInput(){clearTimeout(this._searchTimeout),this._searchTimeout=setTimeout(()=>{this.searchQuery.trim().length>=3?this.performSearch():this.searchQuery.trim().length===0&&this.clearSearch()},300)},buildSearchIndex(t){this.searchData=[];const e=(a,r=[])=>{for(let i=0;i<a.length;i++){const o=a[i],l=[...r,{item:o,index:i}];let n="";o.content&&(n=o.content.replace(/<[^>]*>/g,"")),this.searchData.push({id:o.id,title:o.title||"",subtitle:o.subtitle||"",content:n,type:o.type||"",number:o.number||"",agency:o.agency||"",updatedDate:o.updatedDate||"",path:l,item:o}),o.children&&o.children.length>0&&e(o.children,l)}};e(t),this.availableAgencies=[...new Set(this.searchData.map(a=>a.agency).filter(Boolean))].sort();const s={shouldSort:!0,includeScore:!0,includeMatches:!0,threshold:this.mergedOptions.fuzzySearch.threshold,location:0,distance:this.mergedOptions.fuzzySearch.distance,maxPatternLength:32,minMatchCharLength:2,keys:[{name:"title",weight:.7},{name:"subtitle",weight:.5},{name:"content",weight:.3},{name:"type",weight:.2},{name:"number",weight:.2},{name:"agency",weight:.3},{name:"updatedDate",weight:.1}]};this.fuseInstance=new P(this.searchData,s)},performSearch(){const t=this.searchQuery.trim();if(!t&&!this.hasActiveFilters){this.clearSearch();return}if(this.searchResults=[],this.isLoading=!0,this.mergedOptions.fuzzySearch.enabled&&this.fuseInstance){setTimeout(()=>{let a=[];t?a=this.fuseInstance.search(t):this.hasActiveFilters&&(a=this.searchData.map(r=>({item:r,matches:[],score:1}))),this.hasActiveFilters&&(a=a.filter(r=>this.itemMatchesFilters(r.item.item))),this.searchResults=a.map(r=>{const i=r.item.item;let o=null;if(r.matches&&r.matches.length>0){const n=r.matches[0],u=n.value||"",d=n.key;if(d==="title")o=`Title: ${u}`;else if(d==="subtitle")o=`Subtitle: ${u}`;else if(d==="content")if(n.indices&&n.indices.length>0){const f=n.indices[0],m=f[0],p=f[1]+1,y=Math.max(0,m-50),w=Math.min(u.length,p+50);let S=u.substring(y,w);y>0&&(S="..."+S),w<u.length&&(S=S+"..."),o=`Content: ${S}`}else o=`Content: ${u.substring(0,100)}...`;else o=`${d.charAt(0).toUpperCase()+d.slice(1)}: ${u}`}else this.hasActiveFilters&&t===""&&(o=`Matched filters: ${this.getActiveFiltersAsText()}`);let l="";if(o&&o.startsWith("Content:")&&r.matches&&r.matches.length){const n=r.matches.find(u=>u.key==="content");if(n&&n.value){const u=n.value,d=n.indices[0],f=Math.max(0,d[0]-200),m=Math.min(u.length,d[1]+200);l=u.substring(f,m),f>0&&(l="..."+l),m<u.length&&(l+="...")}}return l||(i.content?l=i.content.length>400?i.content.substring(0,400)+"...":i.content:i.description&&(l=i.description)),{...i,matchContext:o,previewContent:l,path:r.item.path,score:r.score,agency:i.agency,updatedDate:i.updatedDate}}),this.searchResults.sort((r,i)=>(r.score||1)-(i.score||1)),this.showSearchResults=this.searchResults.length>0,this.isLoading=!1,this.searchResults.length===0&&(t||this.hasActiveFilters)&&(this.showSearchResults=!0),this.$emit("search-completed",{query:t,filters:this.getActiveFilters(),resultsCount:this.searchResults.length,results:this.searchResults,fuzzy:!0})},10);return}const e=t.toLowerCase(),s=(a,r=[])=>{for(let i=0;i<a.length;i++){const o=a[i],l=[...r,{item:o,index:i}];let n=!1,u=null;if(o.title&&o.title.toLowerCase().includes(e)&&(n=!0,u=`Title: ${o.title}`),!n&&o.subtitle&&o.subtitle.toLowerCase().includes(e)&&(n=!0,u=`Subtitle: ${o.subtitle}`),!n&&o.content){const d=o.content.replace(/<[^>]*>/g,"").toLowerCase();if(d.includes(e)){n=!0;const f=d.indexOf(e),m=Math.max(0,f-50),p=Math.min(d.length,f+e.length+50);let y=d.substring(m,p);m>0&&(y="..."+y),p<d.length&&(y=y+"..."),u=`Content: ${y}`}}n&&this.searchResults.push({...o,matchContext:u,path:l}),o.children&&o.children.length>0&&s(o.children,l)}};s(this.rootItems),this.showSearchResults=this.searchResults.length>0,this.isLoading=!1,this.searchResults.length===0&&t&&(this.showSearchResults=!0),this.$emit("search-completed",{query:t,results:this.searchResults.length})},clearSearch(){this.searchQuery="",this.searchResults=[],this.showSearchResults=!1},navigateToSearchResult(t){t.path&&(this.ecfrStore.navigateToPath(t.path),t.path.forEach(e=>{e.item.id&&this.ecfrStore.expandItem(e.item.id)}),this.clearSearch())},formatSearchResultTitle(t){return t.type&&t.number?`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} ${t.number}: ${t.title}`:t.title},toggleFuzzySearch(){const t=JSON.parse(JSON.stringify(this.mergedOptions));t.fuzzySearch.enabled=!t.fuzzySearch.enabled,this.$emit("update:options",t),this.defaultOptions.fuzzySearch.enabled=t.fuzzySearch.enabled,this.rootItems&&this.rootItems.length>0&&this.buildSearchIndex(this.rootItems),this.searchQuery.trim()&&this.performSearch()},updateFuzzyThreshold(){const t=this.fuzzyThresholdStep/10+.1,e=JSON.parse(JSON.stringify(this.mergedOptions));e.fuzzySearch.threshold=t,this.$emit("update:options",e),this.defaultOptions.fuzzySearch.threshold=t,this.rootItems&&this.rootItems.length>0&&this.buildSearchIndex(this.rootItems),this.searchQuery.trim()&&this.performSearch()},addMetadata(t,e,s){if(this.ecfrStore.setItemMetadata(t,e,s),this.$emit("metadata-changed",{action:"add",itemId:t,metadataType:s||"all",metadata:e}),this.ecfrStore.currentItem&&this.ecfrStore.currentItem.id===t){const a=this.ecfrStore.processItemMetadata(t);this.$emit("item-selected",{item:this.ecfrStore.currentItem,path:this.ecfrStore.breadcrumbPath,metadata:this.ecfrStore.getItemMetadata(t),processedMetadata:a})}},removeMetadata(t,e){const s=this.ecfrStore.getItemMetadata(t,e);if(this.ecfrStore.removeItemMetadata(t,e),this.$emit("metadata-changed",{action:"remove",itemId:t,metadataType:e||"all",oldMetadata:s}),this.ecfrStore.currentItem&&this.ecfrStore.currentItem.id===t){const a=this.ecfrStore.getItemMetadata(t),r=a?this.ecfrStore.processItemMetadata(t):null;this.$emit("item-selected",{item:this.ecfrStore.currentItem,path:this.ecfrStore.breadcrumbPath,metadata:a,processedMetadata:r})}},registerMetadataProcessor(t,e){this.ecfrStore.registerMetadataProcessor(t,e)},unregisterMetadataProcessor(t){this.ecfrStore.unregisterMetadataProcessor(t)},getMetadata(t,e){return this.ecfrStore.getItemMetadata(t,e)},processMetadata(t,e){return this.ecfrStore.processItemMetadata(t,e)},changeViewMode(){const t=JSON.parse(JSON.stringify(this.mergedOptions));t.display.viewMode=this.currentViewMode,this.currentViewMode==="detailed"?(t.display.showDescription=!0,t.display.showMetadataBadges=!0):this.currentViewMode==="compact"?(t.display.showDescription=!1,t.display.showMetadataBadges=!1):t.display.showDescription=!1,this.$emit("update:options",t),this.defaultOptions.display.viewMode=this.currentViewMode,this.defaultOptions.display.showDescription=t.display.showDescription,this.defaultOptions.display.showMetadataBadges=t.display.showMetadataBadges},changeItemSpacing(){const t=JSON.parse(JSON.stringify(this.mergedOptions));t.display.itemSpacing=this.currentItemSpacing,this.$emit("update:options",t),this.defaultOptions.display.itemSpacing=this.currentItemSpacing},changeFontSize(){const t=JSON.parse(JSON.stringify(this.mergedOptions));this.currentFontSize==="adaptive"?(t.display.fontScaling.enabled=!0,t.display.fontScaling.scaleWithWidth=!0,t.display.fontScaling.responsive=!0):(t.display.fontScaling.enabled=!0,t.display.fontScaling.baseSize=this.currentFontSize,t.display.fontScaling.scaleWithWidth=!1,t.display.fontScaling.responsive=!1),this.$emit("update:options",t),this.defaultOptions.display.fontScaling.enabled=t.display.fontScaling.enabled,this.defaultOptions.display.fontScaling.baseSize=t.display.fontScaling.baseSize,this.defaultOptions.display.fontScaling.scaleWithWidth=t.display.fontScaling.scaleWithWidth,this.defaultOptions.display.fontScaling.responsive=t.display.fontScaling.responsive,this.applyFontSizeClass()},applyFontSizeClass(){const t=this.$el;t&&(t.classList.remove("ecfr-font-small","ecfr-font-medium","ecfr-font-large","ecfr-font-adaptive"),this.currentFontSize==="adaptive"?t.classList.add("ecfr-font-adaptive"):t.classList.add(`ecfr-font-${this.currentFontSize}`))},toggleMetadataBadges(){this.showMetadataBadges=!this.showMetadataBadges;const t=JSON.parse(JSON.stringify(this.mergedOptions));t.display.showMetadataBadges=this.showMetadataBadges,this.$emit("update:options",t),this.defaultOptions.display.showMetadataBadges=this.showMetadataBadges},toggleAdvancedSearch(){this.showAdvancedSearch=!this.showAdvancedSearch},toggleTypeFilter(t){this.selectedTypeFilters.includes(t)?this.selectedTypeFilters=this.selectedTypeFilters.filter(e=>e!==t):this.selectedTypeFilters.push(t),this.mergedOptions.filters.autoUpdateResults&&this.applyFilters()},clearFilters(){this.selectedTypeFilters=[],this.selectedAgency="",this.selectedDateRange="",this.keywordFilter="",this.searchQuery.trim()&&this.performSearch()},applyFilters(){!this.searchQuery.trim()&&!this.hasActiveFilters||(this.searchQuery.trim()?this.performSearch():this.filterRootItems(),this.showAdvancedSearch=!1)},filterRootItems(){const t=[],e=s=>{for(const a of s)this.itemMatchesFilters(a)&&t.push(this.prepareSearchResult(a,null)),a.children&&a.children.length>0&&e(a.children)};e(this.rootItems),this.searchResults=t,this.showSearchResults=t.length>0,this.$emit("search-completed",{query:"",filters:this.getActiveFilters(),resultsCount:t.length})},itemMatchesFilters(t){if(this.selectedTypeFilters.length>0&&!this.selectedTypeFilters.includes(t.type)||this.selectedAgency&&t.agency!==this.selectedAgency)return!1;if(this.selectedDateRange&&t.updatedDate){const e=new Date(t.updatedDate),s=new Date;let a=null;if(this.selectedDateRange==="today"?a=new Date(s.setHours(0,0,0,0)):this.selectedDateRange==="week"?a=new Date(s.setDate(s.getDate()-7)):this.selectedDateRange==="month"?a=new Date(s.setMonth(s.getMonth()-1)):this.selectedDateRange==="year"&&(a=new Date(s.setFullYear(s.getFullYear()-1))),a&&e<a)return!1}if(this.keywordFilter.trim()){const e=this.keywordFilter.split(",").map(s=>s.trim().toLowerCase()).filter(Boolean);if(e.length>0){const s=[t.title,t.subtitle,t.content,t.type,t.number,t.agency].filter(Boolean).join(" ").toLowerCase();if(!e.some(r=>s.includes(r)))return!1}}return!0},getActiveFilters(){return{types:[...this.selectedTypeFilters],agency:this.selectedAgency,dateRange:this.selectedDateRange,keywords:this.keywordFilter.split(",").map(t=>t.trim()).filter(Boolean)}},getActiveFiltersAsText(){const t=[];if(this.selectedTypeFilters.length>0&&t.push(`Types: ${this.selectedTypeFilters.join(", ")}`),this.selectedAgency&&t.push(`Agency: ${this.selectedAgency}`),this.selectedDateRange){const s={today:"Today",week:"Past Week",month:"Past Month",year:"Past Year"};t.push(`Date: ${s[this.selectedDateRange]||this.selectedDateRange}`)}const e=this.keywordFilter.split(",").map(s=>s.trim()).filter(Boolean);return e.length>0&&t.push(`Keywords: ${e.join(", ")}`),t.join("; ")},showTooltipForResult(t){this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(()=>{t.previewContent||(t.previewContent=this.generatePreviewContent(t)),t.previewContent&&(this.activeTooltipId=t.id)},300)},hideTooltip(){this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(()=>{this.activeTooltipId=null},100)},generatePreviewContent(t){let e="";if(t.content)e=t.content;else if(t.item&&t.item.content)e=t.item.content;else{const s=this.ecfrStore.getItemMetadata(t.id);s&&s.content?e=s.content:s&&s.description&&(e=s.description)}if(e){if(e=e.replace(/<[^>]*>/g," "),e.length>300){const s=e.substring(0,300),a=s.lastIndexOf(" ");a>250?e=s.substring(0,a)+"...":e=s+"..."}return e}return"Hover for preview (Content preview is not available for this item)"},prepareSearchResult(t,e){let s="",a="";if(e&&e.matches&&e.matches.length>0){const r=e.matches.sort((u,d)=>d.score-u.score)[0],i=r.value||"",o=r.indices[0],l=Math.max(0,o[0]-20),n=Math.min(i.length,o[1]+20);if(s=i.substring(l,n),l>0&&(s="..."+s),n<i.length&&(s+="..."),i.length>50&&r.key==="content"){const u=Math.max(0,o[0]-100),d=Math.min(i.length,o[1]+150);a=i.substring(u,d),u>0&&(a="..."+a),d<i.length&&(a+="...")}}return a||(t.content?a=t.content:t.description&&(a=t.description)),{id:t.id,title:t.title,type:t.type,number:t.number,matchContext:s,previewContent:a,content:t.content,path:t.path}}}},Ft={class:"flex flex-wrap mb-2 sm:mb-0 items-center"},Ct={class:"flex mr-4"},kt={class:"flex items-center mr-2"},Dt={class:"inline-flex items-center"},It={class:"flex items-center mr-2"},Et={class:"inline-flex items-center"},Bt={class:"flex items-center mr-2"},Rt={class:"inline-flex items-center"},Ot={class:"flex items-center"},Tt={class:"inline-flex items-center"},zt={class:"w-full sm:w-auto relative max-w-full"},Lt={class:"flex items-center"},_t={class:"relative flex-grow"},Ut={class:"mb-2"},Nt={class:"flex flex-wrap gap-1"},Pt=["onClick"],jt={key:0,class:"mb-2"},Vt=["value"],Wt={key:1,class:"mb-2"},Jt={class:"mb-3"},Kt={class:"flex justify-between"},Qt={key:0,class:"flex justify-center items-center py-4"},Ht={key:1},Gt={class:"flex justify-between items-center mb-2"},Yt={class:"flex items-center"},Xt={class:"flex items-center"},Zt={class:"flex items-center mr-2"},qt={key:0,class:"mb-2 px-1"},$t={class:"flex justify-between items-center text-xs mb-1"},es={class:"max-h-40 overflow-y-auto"},ts=["onClick","onMouseenter"],ss={class:"font-medium"},is={class:"text-sm font-medium mb-2"},rs={key:0,class:"absolute inset-0 flex items-center justify-center z-30 bg-white/80 dark:bg-gray-900/80"},as={class:"text-center p-4 rounded-lg bg-white dark:bg-gray-800 shadow-lg"},ns={class:"font-medium text-gray-700 dark:text-gray-200"},os={key:1,class:"absolute inset-0 flex items-center justify-center z-30 bg-white/80 dark:bg-gray-900/80"},ls={class:"max-w-md p-4 rounded-lg bg-white dark:bg-gray-800 shadow-lg border-l-4 border-red-500"},cs={class:"text-sm text-gray-700 dark:text-gray-300 list-disc pl-5"},us={key:2,class:"flex justify-center items-center py-8"},ds={key:3,class:"text-center py-12"},hs={key:4};function gs(t,e,s,a,r,i){const o=fe("ECFRBreadcrumb"),l=fe("ECFRSection");return b(),x("div",{class:h(["ecfr-navigator",[s.options.theme==="dark"?"dark-theme bg-gray-900":"light-theme bg-white"]])},[s.options.showBreadcrumb?(b(),he(o,{key:0,path:i.breadcrumbPath,"dark-mode":s.options.theme==="dark",options:i.mergedOptions.breadcrumb||{}},null,8,["path","dark-mode","options"])):A("",!0),i.mergedOptions.showControls?(b(),x("div",{key:1,class:h(["flex flex-col sm:flex-row justify-between items-center p-2 border-b space-y-2 sm:space-y-0",[s.options.theme==="dark"?"border-gray-700":"border-gray-200"]])},[c("div",Ft,[c("div",Ct,[c("button",{class:h(["px-3 py-1 text-sm rounded mr-2 focus:outline-none focus:ring-2 focus:ring-opacity-50",[s.options.theme==="dark"?"bg-gray-800 text-gray-200 hover:bg-gray-700 focus:ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-300"]]),onClick:e[0]||(e[0]=(...n)=>i.expandAll&&i.expandAll(...n))}," Expand All ",2),c("button",{class:h(["px-3 py-1 text-sm rounded focus:outline-none focus:ring-2 focus:ring-opacity-50",[s.options.theme==="dark"?"bg-gray-800 text-gray-200 hover:bg-gray-700 focus:ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-300"]]),onClick:e[1]||(e[1]=(...n)=>i.collapseAll&&i.collapseAll(...n))}," Collapse All ",2)]),c("div",kt,[e[27]||(e[27]=c("label",{for:"viewMode",class:"sr-only"},"View Mode",-1)),c("div",Dt,[c("span",{class:h(["text-xs mr-2",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])},"View:",2),T(c("select",{id:"viewMode","onUpdate:modelValue":e[2]||(e[2]=n=>r.currentViewMode=n),onChange:e[3]||(e[3]=(...n)=>i.changeViewMode&&i.changeViewMode(...n)),class:h(["text-sm py-1 px-2 rounded focus:outline-none focus:ring-2 focus:ring-opacity-50",[s.options.theme==="dark"?"bg-gray-800 text-gray-200 border-gray-700 focus:ring-gray-500":"bg-gray-100 text-gray-700 border-gray-300 focus:ring-gray-300"]])},e[26]||(e[26]=[c("option",{value:"compact"},"Compact",-1),c("option",{value:"standard"},"Standard",-1),c("option",{value:"detailed"},"Detailed",-1),c("option",{value:"styleless"},"Styleless",-1)]),34),[[j,r.currentViewMode]])])]),c("div",It,[e[29]||(e[29]=c("label",{for:"itemSpacing",class:"sr-only"},"Item Spacing",-1)),c("div",Et,[c("span",{class:h(["text-xs mr-2",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])},"Spacing:",2),T(c("select",{id:"itemSpacing","onUpdate:modelValue":e[4]||(e[4]=n=>r.currentItemSpacing=n),onChange:e[5]||(e[5]=(...n)=>i.changeItemSpacing&&i.changeItemSpacing(...n)),class:h(["text-sm py-1 px-2 rounded focus:outline-none focus:ring-2 focus:ring-opacity-50",[s.options.theme==="dark"?"bg-gray-800 text-gray-200 border-gray-700 focus:ring-gray-500":"bg-gray-100 text-gray-700 border-gray-300 focus:ring-gray-300"]])},e[28]||(e[28]=[c("option",{value:"tight"},"Tight",-1),c("option",{value:"medium"},"Medium",-1),c("option",{value:"loose"},"Loose",-1)]),34),[[j,r.currentItemSpacing]])])]),c("div",Bt,[e[31]||(e[31]=c("label",{for:"fontSize",class:"sr-only"},"Font Size",-1)),c("div",Rt,[c("span",{class:h(["text-xs mr-2",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])},"Font:",2),T(c("select",{id:"fontSize","onUpdate:modelValue":e[6]||(e[6]=n=>r.currentFontSize=n),onChange:e[7]||(e[7]=(...n)=>i.changeFontSize&&i.changeFontSize(...n)),class:h(["text-sm py-1 px-2 rounded focus:outline-none focus:ring-2 focus:ring-opacity-50",[s.options.theme==="dark"?"bg-gray-800 text-gray-200 border-gray-700 focus:ring-gray-500":"bg-gray-100 text-gray-700 border-gray-300 focus:ring-gray-300"]])},e[30]||(e[30]=[c("option",{value:"small"},"Small",-1),c("option",{value:"medium"},"Medium",-1),c("option",{value:"large"},"Large",-1),c("option",{value:"adaptive"},"Adaptive",-1)]),34),[[j,r.currentFontSize]])])]),c("div",Ot,[c("div",Tt,[c("span",{class:h(["text-xs mr-2",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])},"Metadata:",2),c("button",{onClick:e[8]||(e[8]=(...n)=>i.toggleMetadataBadges&&i.toggleMetadataBadges(...n)),class:h(["relative inline-flex h-4 w-8 items-center rounded-full transition-colors focus:outline-none",[r.showMetadataBadges?s.options.theme==="dark"?"bg-blue-600":"bg-blue-500":s.options.theme==="dark"?"bg-gray-700":"bg-gray-300"]])},[c("span",{class:h(["inline-block h-3 w-3 rounded-full bg-white transform transition-transform",r.showMetadataBadges?"translate-x-4":"translate-x-1"])},null,2)],2)])])]),c("div",zt,[c("div",Lt,[c("div",_t,[e[33]||(e[33]=c("label",{for:"ecfr-search",class:"sr-only"},"Search document",-1)),T(c("input",{id:"ecfr-search",type:"text","onUpdate:modelValue":e[9]||(e[9]=n=>r.searchQuery=n),placeholder:"Search...","aria-label":"Search document",class:h(["w-full sm:w-64 px-3 py-2 sm:py-1 pr-10 rounded-l text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",[s.options.theme==="dark"?"bg-gray-800 text-gray-200 border-gray-700":"bg-white text-gray-700 border border-gray-300"]]),onKeyup:[e[10]||(e[10]=ge((...n)=>i.performSearch&&i.performSearch(...n),["enter"])),e[11]||(e[11]=ge((...n)=>i.clearSearch&&i.clearSearch(...n),["esc"]))],onInput:e[12]||(e[12]=(...n)=>i.onSearchInput&&i.onSearchInput(...n))},null,34),[[q,r.searchQuery]]),c("button",{"aria-label":"Search",class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:e[13]||(e[13]=(...n)=>i.performSearch&&i.performSearch(...n))},e[32]||(e[32]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))]),c("button",{class:h(["flex-shrink-0 h-full px-2 py-2 sm:py-1 rounded-r text-sm",[s.options.theme==="dark"?r.showAdvancedSearch?"bg-blue-700 text-blue-100":"bg-gray-700 text-gray-300 hover:bg-gray-600":r.showAdvancedSearch?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"]]),onClick:e[14]||(e[14]=(...n)=>i.toggleAdvancedSearch&&i.toggleAdvancedSearch(...n)),title:"Advanced Search Options"},e[34]||(e[34]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)]),2)]),Z(ee,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:$(()=>[r.showAdvancedSearch?(b(),x("div",{key:0,class:h(["absolute right-0 mt-1 p-3 rounded shadow-lg z-10 w-full sm:w-80 border max-w-full sm:max-w-md",[s.options.theme==="dark"?"bg-gray-800 border-gray-700":"bg-white border-gray-200"]])},[c("h3",{class:h(["text-sm font-medium mb-2",[s.options.theme==="dark"?"text-gray-200":"text-gray-700"]])}," Advanced Filters ",2),c("div",Ut,[c("label",{class:h(["block text-xs font-medium mb-1",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])}," Item Type ",2),c("div",Nt,[(b(!0),x(V,null,W(r.availableTypes,n=>(b(),x("button",{key:n,onClick:u=>i.toggleTypeFilter(n),class:h(["text-xs px-2 py-0.5 rounded transition-colors duration-200",[r.selectedTypeFilters.includes(n)?s.options.theme==="dark"?"bg-blue-700 text-white":"bg-blue-100 text-blue-800":s.options.theme==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"]])},M(n),11,Pt))),128))])]),i.mergedOptions.filters&&i.mergedOptions.filters.showAgencyFilter?(b(),x("div",jt,[c("label",{class:h(["block text-xs font-medium mb-1",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])}," Agency ",2),T(c("select",{"onUpdate:modelValue":e[15]||(e[15]=n=>r.selectedAgency=n),class:h(["w-full text-xs px-2 py-1 rounded",[s.options.theme==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-white text-gray-700 border-gray-300"]])},[e[35]||(e[35]=c("option",{value:""},"All Agencies",-1)),(b(!0),x(V,null,W(r.availableAgencies,n=>(b(),x("option",{key:n,value:n},M(n),9,Vt))),128))],2),[[j,r.selectedAgency]])])):A("",!0),i.mergedOptions.filters&&i.mergedOptions.filters.showDateFilter?(b(),x("div",Wt,[c("label",{class:h(["block text-xs font-medium mb-1",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])}," Last Updated ",2),T(c("select",{"onUpdate:modelValue":e[16]||(e[16]=n=>r.selectedDateRange=n),class:h(["w-full text-xs px-2 py-1 rounded",[s.options.theme==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-white text-gray-700 border-gray-300"]])},e[36]||(e[36]=[c("option",{value:""},"Any Time",-1),c("option",{value:"today"},"Today",-1),c("option",{value:"week"},"Past Week",-1),c("option",{value:"month"},"Past Month",-1),c("option",{value:"year"},"Past Year",-1)]),2),[[j,r.selectedDateRange]])])):A("",!0),c("div",Jt,[c("label",{class:h(["block text-xs font-medium mb-1",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])}," Keywords (separate with comma) ",2),T(c("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=n=>r.keywordFilter=n),placeholder:"Enter keywords...",class:h(["w-full text-xs px-2 py-1 rounded",[s.options.theme==="dark"?"bg-gray-700 text-gray-200 border-gray-600":"bg-white text-gray-700 border-gray-300"]])},null,2),[[q,r.keywordFilter]])]),c("div",Kt,[c("button",{onClick:e[18]||(e[18]=(...n)=>i.clearFilters&&i.clearFilters(...n)),class:h(["text-xs px-2 py-1 rounded transition-colors duration-200",[s.options.theme==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"]])}," Clear Filters ",2),c("button",{onClick:e[19]||(e[19]=(...n)=>i.applyFilters&&i.applyFilters(...n)),class:h(["text-xs px-2 py-1 rounded transition-colors duration-200",[s.options.theme==="dark"?"bg-blue-700 text-white hover:bg-blue-600":"bg-blue-600 text-white hover:bg-blue-700"]])}," Apply Filters ",2)])],2)):A("",!0)]),_:1})])],2)):A("",!0),Z(ee,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-2","enter-to-class":"transform opacity-100 translate-y-0","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-2"},{default:$(()=>[r.showSearchResults||r.isLoading&&r.searchQuery.trim()?(b(),x("div",{key:0,class:h(["p-2 border-b",[s.options.theme==="dark"?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"]])},[r.isLoading?(b(),x("div",Qt,[c("div",{class:h(["animate-spin rounded-full h-6 w-6 border-t-2 border-b-2",[s.options.theme==="dark"?"border-blue-400":"border-blue-600"]])},null,2),c("div",{class:h(["ml-2 text-sm",[s.options.theme==="dark"?"text-gray-300":"text-gray-700"]])}," Searching... ",2)])):(b(),x("div",Ht,[c("div",Gt,[c("div",Yt,[c("div",{class:h(["text-sm font-medium mr-2",[s.options.theme==="dark"?"text-gray-300":"text-gray-700"]])}," Found "+M(r.searchResults.length)+" result"+M(r.searchResults.length!==1?"s":""),3),i.mergedOptions.fuzzySearch.enabled?(b(),x("div",{key:0,class:h(["text-xs px-2 py-0.5 rounded-full",[s.options.theme==="dark"?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800"]])}," Fuzzy ",2)):A("",!0)]),c("div",Xt,[c("div",Zt,[c("label",{class:h(["text-xs mr-1",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])}," Fuzzy: ",2),c("button",{onClick:e[20]||(e[20]=(...n)=>i.toggleFuzzySearch&&i.toggleFuzzySearch(...n)),class:h(["relative inline-flex h-4 w-8 items-center rounded-full transition-colors focus:outline-none",[i.mergedOptions.fuzzySearch.enabled?s.options.theme==="dark"?"bg-blue-600":"bg-blue-500":s.options.theme==="dark"?"bg-gray-700":"bg-gray-300"]])},[c("span",{class:h(["inline-block h-3 w-3 rounded-full bg-white transform transition-transform",i.mergedOptions.fuzzySearch.enabled?"translate-x-4":"translate-x-1"])},null,2)],2)]),c("button",{class:"text-sm text-blue-500 hover:text-blue-700",onClick:e[21]||(e[21]=(...n)=>i.clearSearch&&i.clearSearch(...n))}," Clear ")])]),i.mergedOptions.fuzzySearch.enabled?(b(),x("div",qt,[c("div",$t,[c("span",{class:h([s.options.theme==="dark"?"text-gray-400":"text-gray-600"])},"Exact",2),c("span",{class:h([s.options.theme==="dark"?"text-gray-400":"text-gray-600"])},"Flexible",2)]),T(c("input",{type:"range",min:"0",max:"8",step:"1","onUpdate:modelValue":e[22]||(e[22]=n=>r.fuzzyThresholdStep=n),onChange:e[23]||(e[23]=(...n)=>i.updateFuzzyThreshold&&i.updateFuzzyThreshold(...n)),class:h(["w-full h-1 rounded-lg appearance-none cursor-pointer",[s.options.theme==="dark"?"bg-gray-700":"bg-gray-300"]])},null,34),[[q,r.fuzzyThresholdStep]])])):A("",!0),c("div",es,[r.searchResults.length===0?(b(),x("div",{key:0,class:h(["text-center p-4 text-sm",[s.options.theme==="dark"?"text-gray-400":"text-gray-500"]])},' No matches found for "'+M(r.searchQuery)+'" ',3)):A("",!0),(b(!0),x(V,null,W(r.searchResults,n=>(b(),x("div",{key:n.id,class:h(["p-2 mb-1 rounded cursor-pointer hover:bg-opacity-80 transition-colors duration-200 relative group",[s.options.theme==="dark"?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-white hover:bg-gray-100 text-gray-800 border border-gray-200"]]),onClick:u=>i.navigateToSearchResult(n),onMouseenter:u=>i.showTooltipForResult(n),onMouseleave:e[24]||(e[24]=(...u)=>i.hideTooltip&&i.hideTooltip(...u))},[c("div",ss,M(i.formatSearchResultTitle(n)),1),n.matchContext?(b(),x("div",{key:0,class:h(["text-xs mt-1 truncate",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])},M(n.matchContext),3)):A("",!0),Z(ee,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:$(()=>[r.activeTooltipId===n.id&&n.previewContent?(b(),x("div",{key:0,class:h(["absolute z-10 px-4 py-3 rounded shadow-lg max-w-sm left-full ml-2 top-0",[s.options.theme==="dark"?"bg-gray-800 border border-gray-700 text-gray-300":"bg-white border border-gray-200 text-gray-800"]]),style:{"min-width":"250px",width:"350px"}},[c("div",{class:h(["text-xs font-medium mb-1",[s.options.theme==="dark"?"text-gray-400":"text-gray-500"]])},M(n.type)+" "+M(n.number),3),c("div",is,M(n.title),1),c("div",{class:h(["text-xs mt-1 text-left max-h-32 overflow-y-auto",[s.options.theme==="dark"?"text-gray-400":"text-gray-600"]])},M(n.previewContent),3)],2)):A("",!0)]),_:2},1024)],42,ts))),128))])]))],2)):A("",!0)]),_:1}),c("div",{class:h(["ecfr-content overflow-y-auto p-2 relative",[s.options.theme==="dark"?"text-gray-300":"text-gray-800"]])},[r.dataLoading||r.metadataLoading?(b(),x("div",rs,[c("div",as,[e[37]||(e[37]=c("div",{class:"inline-block animate-spin h-8 w-8 border-4 border-gray-300 dark:border-gray-600 border-t-blue-500 dark:border-t-blue-400 rounded-full mb-2"},null,-1)),c("div",ns,M(r.dataLoading?"Loading data from URL...":"Loading metadata..."),1),e[38]||(e[38]=c("div",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Please wait... ",-1))])])):A("",!0),r.loadingErrors.length>0&&!r.dataLoading&&!r.metadataLoading?(b(),x("div",os,[c("div",ls,[e[39]||(e[39]=c("div",{class:"font-medium text-red-600 dark:text-red-400 mb-2"},"Error Loading Data",-1)),c("ul",cs,[(b(!0),x(V,null,W(r.loadingErrors,(n,u)=>(b(),x("li",{key:u},M(n),1))),128))]),c("button",{onClick:e[25]||(e[25]=n=>r.loadingErrors=[]),class:"mt-3 px-3 py-1 bg-red-100 hover:bg-red-200 text-red-800 text-sm rounded"}," Dismiss ")])])):A("",!0),r.isLoading?(b(),x("div",us,[c("div",{class:h(["animate-spin rounded-full h-8 w-8 border-t-2 border-b-2",[s.options.theme==="dark"?"border-blue-400":"border-blue-600"]])},null,2)])):i.rootItems.length?(b(),x("div",hs,[(b(!0),x(V,null,W(i.rootItems,(n,u)=>(b(),he(l,{key:n.id,item:n,index:u,level:0,"dark-mode":s.options.theme==="dark",options:i.mergedOptions},null,8,["item","index","dark-mode","options"]))),128))])):(b(),x("div",ds,[c("div",{class:h(["text-xl font-medium mb-2",[s.options.theme==="dark"?"text-gray-300":"text-gray-700"]])}," No data available ",2),c("div",{class:h(["text-sm",[s.options.theme==="dark"?"text-gray-400":"text-gray-500"]])}," Please provide eCFR data to display ",2)]))],2)],2)}const xs=ze(Ee,[["render",gs]]);Ee.__docgenInfo={displayName:"ECFRNavigator",exportName:"default",description:"",tags:{},props:[{name:"items",description:"The items to display in the navigator",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"dataUrl",description:"URL to load data from (alternative to providing items directly)",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"dataUrls",description:"Array of URLs to load and merge data from",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"options",description:"Options for configuring the navigator",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"itemMetadata",description:`Initial metadata for items, keyed by item ID
Example: { 'item-1': { xmlLink: { url: '...' } } }`,type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"metadataUrl",description:"URL to load metadata from",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"initialSelectedItemId",description:"ID of the item to initially select",type:{name:"string"},defaultValue:{func:!1,value:"null"}}],events:[{name:"item-selected",type:{names:["undefined"]}},{name:"path-changed",type:{names:["undefined"]}},{name:"search-completed",type:{names:["undefined"]}},{name:"update:options",type:{names:["undefined"]}},{name:"metadata-changed",type:{names:["undefined"]}}],sourceFiles:["C:/Users/bradl/OneDrive/Documents/GitHub/bmc-navigator-component/src/components/ECFRNavigator.vue"]};export{xs as E,P as F};
